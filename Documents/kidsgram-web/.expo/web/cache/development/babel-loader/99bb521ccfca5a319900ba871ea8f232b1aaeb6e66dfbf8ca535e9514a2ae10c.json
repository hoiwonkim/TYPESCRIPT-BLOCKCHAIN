{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport _taggedTemplateLiteralLoose from \"@babel/runtime/helpers/taggedTemplateLiteralLoose\";\nvar _templateObject, _templateObject2, _templateObject3, _templateObject4, _templateObject5, _templateObject6, _templateObject7, _templateObject8, _templateObject9, _templateObject10, _templateObject11, _templateObject12, _templateObject13, _templateObject14, _templateObject15, _templateObject16, _templateObject17, _templateObject18, _templateObject19, _templateObject20, _templateObject21, _templateObject22, _templateObject23, _templateObject24;\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport Loading from \"../components/Loading\";\nimport styled from \"styled-components/native\";\nimport useLoggedInUser from \"../hooks/useLoggedInUser\";\nimport { handleLogout } from \"../apollo\";\nimport { useEffect, useState } from \"react\";\nimport FlatList from \"react-native-web/dist/exports/FlatList\";\nimport useWindowDimensions from \"react-native-web/dist/exports/useWindowDimensions\";\nimport { useFollowUserMutation, useSeeProfileQuery, useUnfollowUserMutation } from \"../generated/graphql\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nvar Container = styled.View(_templateObject || (_templateObject = _taggedTemplateLiteralLoose([\"\\n  background-color: \", \";\\n  flex: 1;\\n  justify-content: center;\\n  align-items: center;\\n\"])), function (props) {\n  return props.theme.bgColor;\n});\nvar ProfileContainer = styled.View(_templateObject2 || (_templateObject2 = _taggedTemplateLiteralLoose([\"\\n  flex: 1;\\n  width: 100%;\\n\"])));\nvar TopContainer = styled.View(_templateObject3 || (_templateObject3 = _taggedTemplateLiteralLoose([\"\\n  padding: 15px 10px;\\n  padding-bottom: 0;\\n\"])));\nvar BottomContainer = styled.View(_templateObject4 || (_templateObject4 = _taggedTemplateLiteralLoose([\"\\n  flex: 1;\\n\"])));\nvar UserContainer = styled.View(_templateObject5 || (_templateObject5 = _taggedTemplateLiteralLoose([\"\\n  flex-direction: row;\\n  width: 100%;\\n\"])));\nvar AvatarContainer = styled.View(_templateObject6 || (_templateObject6 = _taggedTemplateLiteralLoose([\"\"])));\nvar Avatar = styled.Image(_templateObject7 || (_templateObject7 = _taggedTemplateLiteralLoose([\"\\n  width: 80px;\\n  height: 80px;\\n  border-radius: 50px;\\n\"])));\nvar UserInfoContainer = styled.View(_templateObject8 || (_templateObject8 = _taggedTemplateLiteralLoose([\"\\n  flex-direction: row;\\n  justify-content: space-evenly;\\n  align-items: center;\\n  width: \", \"px;\\n\"])), function (props) {\n  return props.width - 120;\n});\nvar PostContainer = styled.View(_templateObject9 || (_templateObject9 = _taggedTemplateLiteralLoose([\"\\n  align-items: center;\\n\"])));\nvar FollowerContainer = styled.TouchableOpacity(_templateObject10 || (_templateObject10 = _taggedTemplateLiteralLoose([\"\\n  align-items: center;\\n\"])));\nvar FollowingContainer = styled.TouchableOpacity(_templateObject11 || (_templateObject11 = _taggedTemplateLiteralLoose([\"\\n  align-items: center;\\n\"])));\nvar CommonNumber = styled.Text(_templateObject12 || (_templateObject12 = _taggedTemplateLiteralLoose([\"\\n  font-weight: bold;\\n  font-size: 20px;\\n\"])));\nvar CommonText = styled.Text(_templateObject13 || (_templateObject13 = _taggedTemplateLiteralLoose([\"\\n  font-size: 15px;\\n  margin-top: 2px;\\n\"])));\nvar UserActionContainer = styled.View(_templateObject14 || (_templateObject14 = _taggedTemplateLiteralLoose([\"\\n  padding: 13px 10px;\\n\"])));\nvar Username = styled.Text(_templateObject15 || (_templateObject15 = _taggedTemplateLiteralLoose([\"\\n  font-weight: bold;\\n  font-size: 18px;\\n\"])));\nvar Bio = styled.Text(_templateObject16 || (_templateObject16 = _taggedTemplateLiteralLoose([\"\\n  font-size: 15px;\\n  margin-top: 3px;\\n\"])));\nvar Buttons = styled.View(_templateObject17 || (_templateObject17 = _taggedTemplateLiteralLoose([\"\\n  flex-direction: row;\\n  margin-top: 10px;\\n\"])));\nvar LeftActionButton = styled.TouchableOpacity(_templateObject18 || (_templateObject18 = _taggedTemplateLiteralLoose([\"\\n  background-color: \", \";\\n  padding: 10px 12px;\\n  border-radius: 5px;\\n  font-size: 14px;\\n  flex: 1;\\n  margin-right: 10px;\\n  justify-content: center;\\n  align-items: center;\\n  height: 38px;\\n\"])), function (props) {\n  return props.theme.activeColor;\n});\nvar LeftActionButtonText = styled.Text(_templateObject19 || (_templateObject19 = _taggedTemplateLiteralLoose([\"\\n  font-weight: bold;\\n  color: white;\\n\"])));\nvar RightAction = styled.TouchableOpacity(_templateObject20 || (_templateObject20 = _taggedTemplateLiteralLoose([\"\\n  background-color: \", \";\\n  border: \", \";\\n  padding: 10px 12px;\\n  border-radius: 5px;\\n  font-size: 14px;\\n  flex: 1;\\n  margin-right: 10px;\\n  justify-content: center;\\n  align-items: center;\\n  height: 38px;\\n\"])), function (props) {\n  return props.theme.bgContainerColor;\n}, function (props) {\n  return props.theme.borderColor;\n});\nvar RightActionText = styled.Text(_templateObject21 || (_templateObject21 = _taggedTemplateLiteralLoose([\"\\n  font-weight: bold;\\n  color: \", \";\\n\"])), function (props) {\n  return props.theme.textColor;\n});\nvar FlatListContainer = styled(FlatList)(_templateObject22 || (_templateObject22 = _taggedTemplateLiteralLoose([\"\\n  width: 100%;\\n\"])));\nvar ProfilePhotoContainer = styled.TouchableOpacity(_templateObject23 || (_templateObject23 = _taggedTemplateLiteralLoose([\"\"])));\nvar ProfilePhoto = styled.Image(_templateObject24 || (_templateObject24 = _taggedTemplateLiteralLoose([\"\\n  width: \", \"px;\\n  height: \", \"px;\\n\"])), function (props) {\n  return props.width / 3;\n}, function (props) {\n  return props.width / 3;\n});\nvar Profile = function Profile(_ref) {\n  var _route$params, _seeProfileData$seePr7, _seeProfileData$seePr8, _seeProfileData$seePr9, _seeProfileData$seePr10, _seeProfileData$seePr11, _seeProfileData$seePr12, _seeProfileData$seePr13, _route$params4, _seeProfileData$seePr16, _route$params5, _seeProfileData$seePr17;\n  var navigation = _ref.navigation,\n    route = _ref.route;\n  var _useWindowDimensions = useWindowDimensions(),\n    width = _useWindowDimensions.width;\n  var loggedInUser = useLoggedInUser();\n  var _useState = useState(false),\n    _useState2 = _slicedToArray(_useState, 2),\n    refreshing = _useState2[0],\n    setRefreshing = _useState2[1];\n  var _useSeeProfileQuery = useSeeProfileQuery({\n      variables: {\n        username: (_route$params = route.params) == null ? void 0 : _route$params.username\n      }\n    }),\n    seeProfileData = _useSeeProfileQuery.data,\n    seeProfileLoading = _useSeeProfileQuery.loading,\n    refetch = _useSeeProfileQuery.refetch;\n  var _useFollowUserMutatio = useFollowUserMutation({\n      update: function update(cache, _ref2) {\n        var _data$followUser$user;\n        var data = _ref2.data;\n        if ((data == null ? void 0 : data.followUser.ok) === false) {\n          return;\n        }\n        cache.modify({\n          id: \"User:\" + (data == null ? void 0 : (_data$followUser$user = data.followUser.user) == null ? void 0 : _data$followUser$user.id),\n          fields: {\n            isFollowing: function isFollowing(_isFollowing) {\n              return true;\n            },\n            totalFollowers: function totalFollowers(_totalFollowers) {\n              return _totalFollowers + 1;\n            }\n          }\n        });\n        cache.modify({\n          id: \"User:\" + (loggedInUser == null ? void 0 : loggedInUser.id),\n          fields: {\n            totalFollowing: function totalFollowing(_totalFollowing) {\n              return _totalFollowing + 1;\n            }\n          }\n        });\n      }\n    }),\n    _useFollowUserMutatio2 = _slicedToArray(_useFollowUserMutatio, 2),\n    followUserMutation = _useFollowUserMutatio2[0],\n    followUserLoading = _useFollowUserMutatio2[1].loading;\n  var _useUnfollowUserMutat = useUnfollowUserMutation({\n      update: function update(cache, _ref3) {\n        var _data$unfollowUser$us;\n        var data = _ref3.data;\n        if ((data == null ? void 0 : data.unfollowUser.ok) === false) {\n          return;\n        }\n        cache.modify({\n          id: \"User:\" + (data == null ? void 0 : (_data$unfollowUser$us = data.unfollowUser.user) == null ? void 0 : _data$unfollowUser$us.id),\n          fields: {\n            isFollowing: function isFollowing(_isFollowing2) {\n              return false;\n            },\n            totalFollowers: function totalFollowers(_totalFollowers2) {\n              return _totalFollowers2 - 1;\n            }\n          }\n        });\n        cache.modify({\n          id: \"User:\" + (loggedInUser == null ? void 0 : loggedInUser.id),\n          fields: {\n            totalFollowing: function totalFollowing(_totalFollowing2) {\n              return _totalFollowing2 - 1;\n            }\n          }\n        });\n      }\n    }),\n    _useUnfollowUserMutat2 = _slicedToArray(_useUnfollowUserMutat, 2),\n    unfollowUserMutation = _useUnfollowUserMutat2[0],\n    unfollowUserLoading = _useUnfollowUserMutat2[1].loading;\n  var handleToggleFollow = function handleToggleFollow(isFollowing, username) {\n    if (isFollowing === undefined || username === undefined) {\n      return;\n    }\n    if (followUserLoading === true || unfollowUserLoading === true) {\n      return;\n    }\n    if (isFollowing === false) {\n      followUserMutation({\n        variables: {\n          username: username\n        }\n      });\n    } else if (isFollowing === true) {\n      unfollowUserMutation({\n        variables: {\n          username: username\n        }\n      });\n    }\n  };\n  var handleNavigateToFollowersScreen = function handleNavigateToFollowersScreen() {\n    var _seeProfileData$seePr, _seeProfileData$seePr2, _seeProfileData$seePr3;\n    navigation.navigate(\"StackFollowers\", {\n      name: seeProfileData == null ? void 0 : (_seeProfileData$seePr = seeProfileData.seeProfile.user) == null ? void 0 : _seeProfileData$seePr.name,\n      username: seeProfileData == null ? void 0 : (_seeProfileData$seePr2 = seeProfileData.seeProfile.user) == null ? void 0 : _seeProfileData$seePr2.username,\n      followers: seeProfileData == null ? void 0 : (_seeProfileData$seePr3 = seeProfileData.seeProfile.user) == null ? void 0 : _seeProfileData$seePr3.followers\n    });\n  };\n  var handleNavigateToFollowingScreen = function handleNavigateToFollowingScreen() {\n    var _seeProfileData$seePr4, _seeProfileData$seePr5, _seeProfileData$seePr6;\n    navigation.navigate(\"StackFollowing\", {\n      name: seeProfileData == null ? void 0 : (_seeProfileData$seePr4 = seeProfileData.seeProfile.user) == null ? void 0 : _seeProfileData$seePr4.name,\n      username: seeProfileData == null ? void 0 : (_seeProfileData$seePr5 = seeProfileData.seeProfile.user) == null ? void 0 : _seeProfileData$seePr5.username,\n      following: seeProfileData == null ? void 0 : (_seeProfileData$seePr6 = seeProfileData.seeProfile.user) == null ? void 0 : _seeProfileData$seePr6.following\n    });\n  };\n  var handleNavigateToStackRoomsNavigation = function handleNavigateToStackRoomsNavigation() {\n    navigation.navigate(\"StackRoomsNavigation\");\n  };\n  var handleNavigateToPhotoScreen = function handleNavigateToPhotoScreen(photoId) {\n    navigation.navigate(\"StackPhoto\", {\n      photoId: photoId\n    });\n  };\n  var onRefresh = function onRefresh() {\n    return _regeneratorRuntime.async(function onRefresh$(_context) {\n      while (1) switch (_context.prev = _context.next) {\n        case 0:\n          setRefreshing(true);\n          _context.next = 3;\n          return _regeneratorRuntime.awrap(refetch());\n        case 3:\n          setRefreshing(false);\n        case 4:\n        case \"end\":\n          return _context.stop();\n      }\n    }, null, null, null, Promise);\n  };\n  var renderItem = function renderItem(_ref4) {\n    var photo = _ref4.item;\n    return _jsx(ProfilePhotoContainer, {\n      onPress: function onPress() {\n        return handleNavigateToPhotoScreen(photo.id);\n      },\n      children: _jsx(ProfilePhoto, {\n        width: width,\n        source: {\n          uri: photo.photoUrl\n        }\n      })\n    });\n  };\n  useEffect(function () {\n    if (route.params && route.params.name && route.params.username) {\n      var _route$params2, _route$params3;\n      navigation.setOptions({\n        headerTitle: ((_route$params2 = route.params) == null ? void 0 : _route$params2.name) + \"(@\" + ((_route$params3 = route.params) == null ? void 0 : _route$params3.username) + \")\"\n      });\n    }\n  }, []);\n  return _jsx(Container, {\n    children: seeProfileLoading === true ? _jsx(Loading, {}) : _jsxs(ProfileContainer, {\n      children: [_jsxs(TopContainer, {\n        children: [_jsxs(UserContainer, {\n          children: [_jsx(AvatarContainer, {\n            children: seeProfileData != null && (_seeProfileData$seePr7 = seeProfileData.seeProfile.user) != null && _seeProfileData$seePr7.avatarUrl ? _jsx(Avatar, {\n              source: {\n                uri: seeProfileData == null ? void 0 : (_seeProfileData$seePr8 = seeProfileData.seeProfile.user) == null ? void 0 : _seeProfileData$seePr8.avatarUrl\n              }\n            }) : _jsx(Avatar, {\n              source: require(\"../assets/basic_user.jpeg\")\n            })\n          }), _jsxs(UserInfoContainer, {\n            width: width,\n            children: [_jsxs(PostContainer, {\n              children: [_jsx(CommonNumber, {\n                children: seeProfileData == null ? void 0 : (_seeProfileData$seePr9 = seeProfileData.seeProfile.user) == null ? void 0 : _seeProfileData$seePr9.totalPhotos\n              }), _jsx(CommonText, {\n                children: \"\\uAC8C\\uC2DC\\uBB3C\"\n              })]\n            }), _jsxs(FollowerContainer, {\n              onPress: handleNavigateToFollowersScreen,\n              children: [_jsx(CommonNumber, {\n                children: seeProfileData == null ? void 0 : (_seeProfileData$seePr10 = seeProfileData.seeProfile.user) == null ? void 0 : _seeProfileData$seePr10.totalFollowers\n              }), _jsx(CommonText, {\n                children: \"\\uD314\\uB85C\\uC6CC\"\n              })]\n            }), _jsxs(FollowingContainer, {\n              onPress: handleNavigateToFollowingScreen,\n              children: [_jsx(CommonNumber, {\n                children: seeProfileData == null ? void 0 : (_seeProfileData$seePr11 = seeProfileData.seeProfile.user) == null ? void 0 : _seeProfileData$seePr11.totalFollowing\n              }), _jsx(CommonText, {\n                children: \"\\uD314\\uB85C\\uC789\"\n              })]\n            })]\n          })]\n        }), _jsxs(UserActionContainer, {\n          children: [_jsx(Username, {\n            children: seeProfileData == null ? void 0 : (_seeProfileData$seePr12 = seeProfileData.seeProfile.user) == null ? void 0 : _seeProfileData$seePr12.username\n          }), _jsx(Bio, {\n            children: seeProfileData == null ? void 0 : (_seeProfileData$seePr13 = seeProfileData.seeProfile.user) == null ? void 0 : _seeProfileData$seePr13.bio\n          }), _jsxs(Buttons, {\n            children: [((_route$params4 = route.params) == null ? void 0 : _route$params4.isMe) === true ? _jsx(LeftActionButton, {\n              children: _jsx(LeftActionButtonText, {\n                children: \"\\uD504\\uB85C\\uD544 \\uC218\\uC815\"\n              })\n            }) : _jsx(LeftActionButton, {\n              onPress: function onPress() {\n                var _seeProfileData$seePr14, _seeProfileData$seePr15;\n                return handleToggleFollow(seeProfileData == null ? void 0 : (_seeProfileData$seePr14 = seeProfileData.seeProfile.user) == null ? void 0 : _seeProfileData$seePr14.isFollowing, seeProfileData == null ? void 0 : (_seeProfileData$seePr15 = seeProfileData.seeProfile.user) == null ? void 0 : _seeProfileData$seePr15.username);\n              },\n              children: _jsx(LeftActionButtonText, {\n                children: followUserLoading === true || unfollowUserLoading === true ? _jsx(Loading, {}) : seeProfileData != null && (_seeProfileData$seePr16 = seeProfileData.seeProfile.user) != null && _seeProfileData$seePr16.isFollowing ? \"팔로우 취소\" : \"팔로우\"\n              })\n            }), ((_route$params5 = route.params) == null ? void 0 : _route$params5.isMe) === true ? _jsx(RightAction, {\n              onPress: handleLogout,\n              children: _jsx(RightActionText, {\n                children: \"\\uB85C\\uADF8\\uC544\\uC6C3\"\n              })\n            }) : _jsx(RightAction, {\n              onPress: handleNavigateToStackRoomsNavigation,\n              children: _jsx(RightActionText, {\n                children: \"\\uBA54\\uC2DC\\uC9C0\"\n              })\n            })]\n          })]\n        })]\n      }), _jsx(BottomContainer, {\n        children: _jsx(FlatListContainer, {\n          numColumns: 3,\n          showsVerticalScrollIndicator: false,\n          refreshing: refreshing,\n          onRefresh: onRefresh,\n          data: seeProfileData == null ? void 0 : (_seeProfileData$seePr17 = seeProfileData.seeProfile.user) == null ? void 0 : _seeProfileData$seePr17.photos,\n          renderItem: renderItem,\n          keyExtractor: function keyExtractor(photo) {\n            return String(photo.id);\n          }\n        }, \"#\")\n      })]\n    })\n  });\n};\nexport default Profile;","map":{"version":3,"names":["Loading","styled","useLoggedInUser","handleLogout","useEffect","useState","FlatList","useWindowDimensions","useFollowUserMutation","useSeeProfileQuery","useUnfollowUserMutation","jsx","_jsx","jsxs","_jsxs","Container","View","_templateObject","_taggedTemplateLiteralLoose","props","theme","bgColor","ProfileContainer","_templateObject2","TopContainer","_templateObject3","BottomContainer","_templateObject4","UserContainer","_templateObject5","AvatarContainer","_templateObject6","Avatar","Image","_templateObject7","UserInfoContainer","_templateObject8","width","PostContainer","_templateObject9","FollowerContainer","TouchableOpacity","_templateObject10","FollowingContainer","_templateObject11","CommonNumber","Text","_templateObject12","CommonText","_templateObject13","UserActionContainer","_templateObject14","Username","_templateObject15","Bio","_templateObject16","Buttons","_templateObject17","LeftActionButton","_templateObject18","activeColor","LeftActionButtonText","_templateObject19","RightAction","_templateObject20","bgContainerColor","borderColor","RightActionText","_templateObject21","textColor","FlatListContainer","_templateObject22","ProfilePhotoContainer","_templateObject23","ProfilePhoto","_templateObject24","Profile","_ref","_route$params","_seeProfileData$seePr7","_seeProfileData$seePr8","_seeProfileData$seePr9","_seeProfileData$seePr10","_seeProfileData$seePr11","_seeProfileData$seePr12","_seeProfileData$seePr13","_route$params4","_seeProfileData$seePr16","_route$params5","_seeProfileData$seePr17","navigation","route","_useWindowDimensions","loggedInUser","_useState","_useState2","_slicedToArray","refreshing","setRefreshing","_useSeeProfileQuery","variables","username","params","seeProfileData","data","seeProfileLoading","loading","refetch","_useFollowUserMutatio","update","cache","_ref2","_data$followUser$user","followUser","ok","modify","id","user","fields","isFollowing","totalFollowers","totalFollowing","_useFollowUserMutatio2","followUserMutation","followUserLoading","_useUnfollowUserMutat","_ref3","_data$unfollowUser$us","unfollowUser","_useUnfollowUserMutat2","unfollowUserMutation","unfollowUserLoading","handleToggleFollow","undefined","handleNavigateToFollowersScreen","_seeProfileData$seePr","_seeProfileData$seePr2","_seeProfileData$seePr3","navigate","name","seeProfile","followers","handleNavigateToFollowingScreen","_seeProfileData$seePr4","_seeProfileData$seePr5","_seeProfileData$seePr6","following","handleNavigateToStackRoomsNavigation","handleNavigateToPhotoScreen","photoId","onRefresh","_regeneratorRuntime","async","onRefresh$","_context","prev","next","awrap","stop","Promise","renderItem","_ref4","photo","item","onPress","children","source","uri","photoUrl","_route$params2","_route$params3","setOptions","headerTitle","avatarUrl","require","totalPhotos","bio","isMe","_seeProfileData$seePr14","_seeProfileData$seePr15","numColumns","showsVerticalScrollIndicator","photos","keyExtractor","String"],"sources":["C:/Users/GGPC/Documents/kidsgram-web/screens/Profile.tsx"],"sourcesContent":["import Loading from \"../components/Loading\";\r\nimport styled from \"styled-components/native\";\r\nimport useLoggedInUser from \"../hooks/useLoggedInUser\";\r\nimport { handleLogout } from \"../apollo\";\r\nimport { useEffect, useState } from \"react\";\r\nimport { ApolloCache } from \"@apollo/client\";\r\nimport { RootStackParamList } from \"../shared/shared.types\";\r\nimport { FlatList, useWindowDimensions } from \"react-native\";\r\nimport { NativeStackScreenProps } from \"@react-navigation/native-stack\";\r\nimport { useFollowUserMutation, useSeeProfileQuery, useUnfollowUserMutation } from \"../generated/graphql\";\r\n\r\ntype ProfileNavigationProps = NativeStackScreenProps<RootStackParamList, \"StackProfile\">;\r\n\r\nconst Container = styled.View`\r\n  background-color: ${(props) => props.theme.bgColor};\r\n  flex: 1;\r\n  justify-content: center;\r\n  align-items: center;\r\n`;\r\n\r\nconst ProfileContainer = styled.View`\r\n  flex: 1;\r\n  width: 100%;\r\n`;\r\n\r\nconst TopContainer = styled.View`\r\n  padding: 15px 10px;\r\n  padding-bottom: 0;\r\n`;\r\n\r\nconst BottomContainer = styled.View`\r\n  flex: 1;\r\n`;\r\n\r\nconst UserContainer = styled.View`\r\n  flex-direction: row;\r\n  width: 100%;\r\n`;\r\n\r\nconst AvatarContainer = styled.View``;\r\n\r\nconst Avatar = styled.Image`\r\n  width: 80px;\r\n  height: 80px;\r\n  border-radius: 50px;\r\n`;\r\n\r\nconst UserInfoContainer = styled.View<{ width: number }>`\r\n  flex-direction: row;\r\n  justify-content: space-evenly;\r\n  align-items: center;\r\n  width: ${(props) => props.width - 120}px;\r\n`;\r\n\r\nconst PostContainer = styled.View`\r\n  align-items: center;\r\n`;\r\n\r\nconst FollowerContainer = styled.TouchableOpacity`\r\n  align-items: center;\r\n`;\r\n\r\nconst FollowingContainer = styled.TouchableOpacity`\r\n  align-items: center;\r\n`;\r\n\r\nconst CommonNumber = styled.Text`\r\n  font-weight: bold;\r\n  font-size: 20px;\r\n`;\r\n\r\nconst CommonText = styled.Text`\r\n  font-size: 15px;\r\n  margin-top: 2px;\r\n`;\r\n\r\nconst UserActionContainer = styled.View`\r\n  padding: 13px 10px;\r\n`;\r\n\r\nconst Username = styled.Text`\r\n  font-weight: bold;\r\n  font-size: 18px;\r\n`;\r\n\r\nconst Bio = styled.Text`\r\n  font-size: 15px;\r\n  margin-top: 3px;\r\n`;\r\n\r\nconst Buttons = styled.View`\r\n  flex-direction: row;\r\n  margin-top: 10px;\r\n`;\r\n\r\nconst LeftActionButton = styled.TouchableOpacity`\r\n  background-color: ${(props) => props.theme.activeColor};\r\n  padding: 10px 12px;\r\n  border-radius: 5px;\r\n  font-size: 14px;\r\n  flex: 1;\r\n  margin-right: 10px;\r\n  justify-content: center;\r\n  align-items: center;\r\n  height: 38px;\r\n`;\r\n\r\nconst LeftActionButtonText = styled.Text`\r\n  font-weight: bold;\r\n  color: white;\r\n`;\r\n\r\nconst RightAction = styled.TouchableOpacity`\r\n  background-color: ${(props) => props.theme.bgContainerColor};\r\n  border: ${(props) => props.theme.borderColor};\r\n  padding: 10px 12px;\r\n  border-radius: 5px;\r\n  font-size: 14px;\r\n  flex: 1;\r\n  margin-right: 10px;\r\n  justify-content: center;\r\n  align-items: center;\r\n  height: 38px;\r\n`;\r\n\r\nconst RightActionText = styled.Text`\r\n  font-weight: bold;\r\n  color: ${(props) => props.theme.textColor};\r\n`;\r\n\r\nconst FlatListContainer = styled(FlatList)`\r\n  width: 100%;\r\n`;\r\n\r\nconst ProfilePhotoContainer = styled.TouchableOpacity``;\r\n\r\nconst ProfilePhoto = styled.Image<{ width: number }>`\r\n  width: ${(props) => props.width / 3}px;\r\n  height: ${(props) => props.width / 3}px;\r\n`;\r\n\r\nconst Profile = ({ navigation, route }: ProfileNavigationProps) => {\r\n  const { width } = useWindowDimensions();\r\n  const loggedInUser = useLoggedInUser();\r\n  const [refreshing, setRefreshing] = useState<boolean>(false);\r\n  const { data: seeProfileData, loading: seeProfileLoading, refetch } = useSeeProfileQuery({ variables: { username: route.params?.username } });\r\n\r\n  const [followUserMutation, { loading: followUserLoading }] = useFollowUserMutation({\r\n    update: (cache, { data }) => {\r\n      if (data?.followUser.ok === false) {\r\n        return;\r\n      }\r\n\r\n      // followUsername = data?.followUser.user?.username;\r\n      cache.modify({\r\n        id: `User:${data?.followUser.user?.id}`,\r\n        fields: {\r\n          isFollowing: (isFollowing: boolean) => true,\r\n          totalFollowers: (totalFollowers: number) => totalFollowers + 1,\r\n        },\r\n      });\r\n      cache.modify({\r\n        id: `User:${loggedInUser?.id}`,\r\n        fields: {\r\n          totalFollowing: (totalFollowing: number) => totalFollowing + 1,\r\n        },\r\n      });\r\n    },\r\n  });\r\n  const [unfollowUserMutation, { loading: unfollowUserLoading }] = useUnfollowUserMutation({\r\n    update: (cache, { data }) => {\r\n      if (data?.unfollowUser.ok === false) {\r\n        return;\r\n      }\r\n\r\n      // unfollowUsername = data?.unfollowUser.user?.username;\r\n      cache.modify({\r\n        id: `User:${data?.unfollowUser.user?.id}`,\r\n        fields: {\r\n          isFollowing: (isFollowing: boolean) => false,\r\n          totalFollowers: (totalFollowers: number) => totalFollowers - 1,\r\n        },\r\n      });\r\n      cache.modify({\r\n        id: `User:${loggedInUser?.id}`,\r\n        fields: {\r\n          totalFollowing: (totalFollowing: number) => totalFollowing - 1,\r\n        },\r\n      });\r\n    },\r\n  });\r\n\r\n  const handleToggleFollow = (isFollowing: boolean | undefined, username: string | undefined): void => {\r\n    if (isFollowing === undefined || username === undefined) {\r\n      return;\r\n    }\r\n    if (followUserLoading === true || unfollowUserLoading === true) {\r\n      return;\r\n    }\r\n    if (isFollowing === false) {\r\n      followUserMutation({ variables: { username } });\r\n    } else if (isFollowing === true) {\r\n      unfollowUserMutation({ variables: { username } });\r\n    }\r\n  };\r\n\r\n  const handleNavigateToFollowersScreen = (): void => {\r\n    navigation.navigate(\"StackFollowers\", {\r\n      name: seeProfileData?.seeProfile.user?.name,\r\n      username: seeProfileData?.seeProfile.user?.username,\r\n      followers: seeProfileData?.seeProfile.user?.followers,\r\n    });\r\n  };\r\n\r\n  const handleNavigateToFollowingScreen = (): void => {\r\n    navigation.navigate(\"StackFollowing\", {\r\n      name: seeProfileData?.seeProfile.user?.name,\r\n      username: seeProfileData?.seeProfile.user?.username,\r\n      following: seeProfileData?.seeProfile.user?.following,\r\n    });\r\n  };\r\n\r\n  const handleNavigateToStackRoomsNavigation = (): void => {\r\n    navigation.navigate(\"StackRoomsNavigation\");\r\n  };\r\n\r\n  const handleNavigateToPhotoScreen = (photoId: number): void => {\r\n    navigation.navigate(\"StackPhoto\", { photoId });\r\n  };\r\n\r\n  const onRefresh = async (): Promise<void> => {\r\n    setRefreshing(true);\r\n    await refetch();\r\n    setRefreshing(false);\r\n  };\r\n\r\n  const renderItem = ({ item: photo }: any) => {\r\n    return (\r\n      <ProfilePhotoContainer onPress={() => handleNavigateToPhotoScreen(photo.id)}>\r\n        <ProfilePhoto width={width} source={{ uri: photo.photoUrl }} />\r\n      </ProfilePhotoContainer>\r\n    );\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (route.params && route.params.name && route.params.username) {\r\n      navigation.setOptions({ headerTitle: `${route.params?.name}(@${route.params?.username})` });\r\n    }\r\n  }, []);\r\n\r\n  return (\r\n    <Container>\r\n      {seeProfileLoading === true ? (\r\n        <Loading />\r\n      ) : (\r\n        <ProfileContainer>\r\n          <TopContainer>\r\n            <UserContainer>\r\n              <AvatarContainer>\r\n                {seeProfileData?.seeProfile.user?.avatarUrl ? (\r\n                  <Avatar source={{ uri: seeProfileData?.seeProfile.user?.avatarUrl }} />\r\n                ) : (\r\n                  <Avatar source={require(\"../assets/basic_user.jpeg\")} />\r\n                )}\r\n              </AvatarContainer>\r\n              <UserInfoContainer width={width}>\r\n                <PostContainer>\r\n                  <CommonNumber>{seeProfileData?.seeProfile.user?.totalPhotos}</CommonNumber>\r\n                  <CommonText>게시물</CommonText>\r\n                </PostContainer>\r\n                <FollowerContainer onPress={handleNavigateToFollowersScreen}>\r\n                  <CommonNumber>{seeProfileData?.seeProfile.user?.totalFollowers}</CommonNumber>\r\n                  <CommonText>팔로워</CommonText>\r\n                </FollowerContainer>\r\n                <FollowingContainer onPress={handleNavigateToFollowingScreen}>\r\n                  <CommonNumber>{seeProfileData?.seeProfile.user?.totalFollowing}</CommonNumber>\r\n                  <CommonText>팔로잉</CommonText>\r\n                </FollowingContainer>\r\n              </UserInfoContainer>\r\n            </UserContainer>\r\n            <UserActionContainer>\r\n              <Username>{seeProfileData?.seeProfile.user?.username}</Username>\r\n              <Bio>{seeProfileData?.seeProfile.user?.bio}</Bio>\r\n              <Buttons>\r\n                {route.params?.isMe === true ? (\r\n                  <LeftActionButton>\r\n                    <LeftActionButtonText>프로필 수정</LeftActionButtonText>\r\n                  </LeftActionButton>\r\n                ) : (\r\n                  <LeftActionButton onPress={() => handleToggleFollow(seeProfileData?.seeProfile.user?.isFollowing, seeProfileData?.seeProfile.user?.username)}>\r\n                    <LeftActionButtonText>\r\n                      {followUserLoading === true || unfollowUserLoading === true ? <Loading /> : seeProfileData?.seeProfile.user?.isFollowing ? \"팔로우 취소\" : \"팔로우\"}\r\n                    </LeftActionButtonText>\r\n                  </LeftActionButton>\r\n                )}\r\n                {route.params?.isMe === true ? (\r\n                  <RightAction onPress={handleLogout}>\r\n                    <RightActionText>로그아웃</RightActionText>\r\n                  </RightAction>\r\n                ) : (\r\n                  <RightAction onPress={handleNavigateToStackRoomsNavigation}>\r\n                    <RightActionText>메시지</RightActionText>\r\n                  </RightAction>\r\n                )}\r\n              </Buttons>\r\n            </UserActionContainer>\r\n          </TopContainer>\r\n          <BottomContainer>\r\n            <FlatListContainer\r\n              key={\"#\"}\r\n              numColumns={3}\r\n              showsVerticalScrollIndicator={false}\r\n              refreshing={refreshing}\r\n              onRefresh={onRefresh}\r\n              data={seeProfileData?.seeProfile.user?.photos}\r\n              renderItem={renderItem}\r\n              keyExtractor={(photo: any) => String(photo.id)}\r\n            ></FlatListContainer>\r\n          </BottomContainer>\r\n        </ProfileContainer>\r\n      )}\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default Profile;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}