{"ast":null,"code":"import _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\nimport _toConsumableArray from \"@babel/runtime/helpers/toConsumableArray\";\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nfunction _createForOfIteratorHelperLoose(o, allowArrayLike) { var it = typeof Symbol !== \"undefined\" && o[Symbol.iterator] || o[\"@@iterator\"]; if (it) return (it = it.call(o)).next.bind(it); if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") { if (it) o = it; var i = 0; return function () { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i]; return arr2; }\nvar _Reanimated$default$c, _Reanimated$default;\nimport React, { useEffect, useRef } from 'react';\nimport { BaseGesture, CALLBACK_TYPE } from \"./gesture\";\nimport { Reanimated } from \"./reanimatedWrapper\";\nimport { registerHandler, unregisterHandler } from \"../handlersRegistry\";\nimport RNGestureHandlerModule from \"../../RNGestureHandlerModule\";\nimport { baseGestureHandlerWithMonitorProps, filterConfig, findNodeHandle } from \"../gestureHandlerCommon\";\nimport { GestureStateManager } from \"./gestureStateManager\";\nimport { flingGestureHandlerProps } from \"../FlingGestureHandler\";\nimport { forceTouchGestureHandlerProps } from \"../ForceTouchGestureHandler\";\nimport { longPressGestureHandlerProps } from \"../LongPressGestureHandler\";\nimport { panGestureHandlerProps, panGestureHandlerCustomNativeProps } from \"../PanGestureHandler\";\nimport { tapGestureHandlerProps } from \"../TapGestureHandler\";\nimport { State } from \"../../State\";\nimport { EventType } from \"../../EventType\";\nvar ALLOWED_PROPS = [].concat(_toConsumableArray(baseGestureHandlerWithMonitorProps), _toConsumableArray(tapGestureHandlerProps), _toConsumableArray(panGestureHandlerProps), _toConsumableArray(panGestureHandlerCustomNativeProps), _toConsumableArray(longPressGestureHandlerProps), _toConsumableArray(forceTouchGestureHandlerProps), _toConsumableArray(flingGestureHandlerProps));\nfunction convertToHandlerTag(ref) {\n  if (typeof ref === 'number') {\n    return ref;\n  } else if (ref instanceof BaseGesture) {\n    return ref.handlerTag;\n  } else {\n    var _ref$current$handlerT, _ref$current;\n    return (_ref$current$handlerT = (_ref$current = ref.current) === null || _ref$current === void 0 ? void 0 : _ref$current.handlerTag) !== null && _ref$current$handlerT !== void 0 ? _ref$current$handlerT : -1;\n  }\n}\nfunction extractValidHandlerTags(interactionGroup) {\n  var _interactionGroup$map, _interactionGroup$map2;\n  return (_interactionGroup$map = interactionGroup === null || interactionGroup === void 0 ? void 0 : (_interactionGroup$map2 = interactionGroup.map(convertToHandlerTag)) === null || _interactionGroup$map2 === void 0 ? void 0 : _interactionGroup$map2.filter(function (tag) {\n    return tag > 0;\n  })) !== null && _interactionGroup$map !== void 0 ? _interactionGroup$map : [];\n}\nfunction dropHandlers(preparedGesture) {\n  for (var _iterator = _createForOfIteratorHelperLoose(preparedGesture.config), _step; !(_step = _iterator()).done;) {\n    var handler = _step.value;\n    RNGestureHandlerModule.dropGestureHandler(handler.handlerTag);\n    unregisterHandler(handler.handlerTag);\n  }\n}\nfunction attachHandlers(_ref) {\n  var preparedGesture = _ref.preparedGesture,\n    gestureConfig = _ref.gestureConfig,\n    gesture = _ref.gesture,\n    viewTag = _ref.viewTag,\n    useAnimated = _ref.useAnimated;\n  if (!preparedGesture.firstExecution) {\n    gestureConfig === null || gestureConfig === void 0 ? void 0 : gestureConfig.initialize();\n  } else {\n    preparedGesture.firstExecution = false;\n  }\n  setImmediate(function () {\n    gestureConfig === null || gestureConfig === void 0 ? void 0 : gestureConfig.prepare();\n  });\n  var _loop = function _loop(handler) {\n    RNGestureHandlerModule.createGestureHandler(handler.handlerName, handler.handlerTag, filterConfig(handler.config, ALLOWED_PROPS));\n    registerHandler(handler.handlerTag, handler);\n    setImmediate(function () {\n      var requireToFail = [];\n      if (handler.config.requireToFail) {\n        requireToFail = extractValidHandlerTags(handler.config.requireToFail);\n      }\n      var simultaneousWith = [];\n      if (handler.config.simultaneousWith) {\n        simultaneousWith = extractValidHandlerTags(handler.config.simultaneousWith);\n      }\n      RNGestureHandlerModule.updateGestureHandler(handler.handlerTag, filterConfig(handler.config, ALLOWED_PROPS, {\n        simultaneousHandlers: simultaneousWith,\n        waitFor: requireToFail\n      }));\n    });\n  };\n  for (var _iterator2 = _createForOfIteratorHelperLoose(gesture), _step2; !(_step2 = _iterator2()).done;) {\n    var handler = _step2.value;\n    _loop(handler);\n  }\n  preparedGesture.config = gesture;\n  for (var _iterator3 = _createForOfIteratorHelperLoose(preparedGesture.config), _step3; !(_step3 = _iterator3()).done;) {\n    var _gesture = _step3.value;\n    RNGestureHandlerModule.attachGestureHandler(_gesture.handlerTag, viewTag, !useAnimated);\n  }\n  if (preparedGesture.animatedHandlers) {\n    preparedGesture.animatedHandlers.value = gesture.map(function (g) {\n      return g.handlers;\n    });\n  }\n}\nfunction updateHandlers(preparedGesture, gestureConfig, gesture) {\n  gestureConfig === null || gestureConfig === void 0 ? void 0 : gestureConfig.prepare();\n  for (var i = 0; i < gesture.length; i++) {\n    var handler = preparedGesture.config[i];\n    gesture[i].handlerTag = handler.handlerTag;\n    gesture[i].handlers.handlerTag = handler.handlerTag;\n  }\n  setImmediate(function () {\n    for (var _i = 0; _i < gesture.length; _i++) {\n      var _handler = preparedGesture.config[_i];\n      _handler.config = gesture[_i].config;\n      _handler.handlers = gesture[_i].handlers;\n      _handler.handlers.handlerTag = _handler.handlerTag;\n      var requireToFail = extractValidHandlerTags(_handler.config.requireToFail);\n      var simultaneousWith = extractValidHandlerTags(_handler.config.simultaneousWith);\n      RNGestureHandlerModule.updateGestureHandler(_handler.handlerTag, filterConfig(_handler.config, ALLOWED_PROPS, {\n        simultaneousHandlers: simultaneousWith,\n        waitFor: requireToFail\n      }));\n      registerHandler(_handler.handlerTag, _handler);\n    }\n    if (preparedGesture.animatedHandlers) {\n      preparedGesture.animatedHandlers.value = preparedGesture.config.map(function (g) {\n        return g.handlers;\n      });\n    }\n  });\n}\nfunction needsToReattach(preparedGesture, gesture) {\n  if (gesture.length !== preparedGesture.config.length) {\n    return true;\n  }\n  for (var i = 0; i < gesture.length; i++) {\n    if (gesture[i].handlerName !== preparedGesture.config[i].handlerName) {\n      return true;\n    }\n  }\n  return false;\n}\nvar _worklet_6011490867213_init_data = {\n  code: \"function isStateChangeEvent(event) {\\n  return event.oldState != null;\\n}\",\n  location: \"C:\\\\Users\\\\GGPC\\\\Documents\\\\kidsgram-web\\\\node_modules\\\\react-native-gesture-handler\\\\lib\\\\module\\\\handlers\\\\gestures\\\\GestureDetector.js\",\n  sourceMap: \"{\\\"version\\\":3,\\\"names\\\":[\\\"isStateChangeEvent\\\",\\\"event\\\",\\\"oldState\\\"],\\\"sources\\\":[\\\"C:/Users/GGPC/Documents/kidsgram-web/node_modules/react-native-gesture-handler/lib/module/handlers/gestures/GestureDetector.js\\\"],\\\"mappings\\\":\\\"AAyJE,SAAAA,kBAASA,CAAmBC,KAAA,EAAK;EAG/B,OAAOA,KAAK,CAACC,QAAQ,IAAI,IAAI;AAC/B\\\"}\"\n};\nvar _worklet_10181097307677_init_data = {\n  code: \"function isTouchEvent(event) {\\n  return event.eventType != null;\\n}\",\n  location: \"C:\\\\Users\\\\GGPC\\\\Documents\\\\kidsgram-web\\\\node_modules\\\\react-native-gesture-handler\\\\lib\\\\module\\\\handlers\\\\gestures\\\\GestureDetector.js\",\n  sourceMap: \"{\\\"version\\\":3,\\\"names\\\":[\\\"isTouchEvent\\\",\\\"event\\\",\\\"eventType\\\"],\\\"sources\\\":[\\\"C:/Users/GGPC/Documents/kidsgram-web/node_modules/react-native-gesture-handler/lib/module/handlers/gestures/GestureDetector.js\\\"],\\\"mappings\\\":\\\"AA+JE,SAAAA,YAASA,CAAaC,KAAA,EAAK;EAGzB,OAAOA,KAAK,CAACC,SAAS,IAAI,IAAI;AAChC\\\"}\"\n};\nvar _worklet_6740083841975_init_data = {\n  code: \"function getHandler(type, gesture) {\\n  const {\\n    CALLBACK_TYPE\\n  } = this._closure;\\n  switch (type) {\\n    case CALLBACK_TYPE.BEGAN:\\n      return gesture.onBegin;\\n    case CALLBACK_TYPE.START:\\n      return gesture.onStart;\\n    case CALLBACK_TYPE.UPDATE:\\n      return gesture.onUpdate;\\n    case CALLBACK_TYPE.CHANGE:\\n      return gesture.onChange;\\n    case CALLBACK_TYPE.END:\\n      return gesture.onEnd;\\n    case CALLBACK_TYPE.FINALIZE:\\n      return gesture.onFinalize;\\n    case CALLBACK_TYPE.TOUCHES_DOWN:\\n      return gesture.onTouchesDown;\\n    case CALLBACK_TYPE.TOUCHES_MOVE:\\n      return gesture.onTouchesMove;\\n    case CALLBACK_TYPE.TOUCHES_UP:\\n      return gesture.onTouchesUp;\\n    case CALLBACK_TYPE.TOUCHES_CANCELLED:\\n      return gesture.onTouchesCancelled;\\n  }\\n}\",\n  location: \"C:\\\\Users\\\\GGPC\\\\Documents\\\\kidsgram-web\\\\node_modules\\\\react-native-gesture-handler\\\\lib\\\\module\\\\handlers\\\\gestures\\\\GestureDetector.js\",\n  sourceMap: \"{\\\"version\\\":3,\\\"names\\\":[\\\"getHandler\\\",\\\"type\\\",\\\"gesture\\\",\\\"CALLBACK_TYPE\\\",\\\"_closure\\\",\\\"BEGAN\\\",\\\"onBegin\\\",\\\"START\\\",\\\"onStart\\\",\\\"UPDATE\\\",\\\"onUpdate\\\",\\\"CHANGE\\\",\\\"onChange\\\",\\\"END\\\",\\\"onEnd\\\",\\\"FINALIZE\\\",\\\"onFinalize\\\",\\\"TOUCHES_DOWN\\\",\\\"onTouchesDown\\\",\\\"TOUCHES_MOVE\\\",\\\"onTouchesMove\\\",\\\"TOUCHES_UP\\\",\\\"onTouchesUp\\\",\\\"TOUCHES_CANCELLED\\\",\\\"onTouchesCancelled\\\"],\\\"sources\\\":[\\\"C:/Users/GGPC/Documents/kidsgram-web/node_modules/react-native-gesture-handler/lib/module/handlers/gestures/GestureDetector.js\\\"],\\\"mappings\\\":\\\"AAqKE,SAAAA,UAASA,CAAWC,IAAA,EAAIC,OAAE,EAAO;EAAA;IAAAC;EAAA,SAAAC,QAAA;EAG/B,QAAQH,IAAI;IACV,KAAKE,aAAa,CAACE,KAAK;MACtB,OAAOH,OAAO,CAACI,OAAO;IAExB,KAAKH,aAAa,CAACI,KAAK;MACtB,OAAOL,OAAO,CAACM,OAAO;IAExB,KAAKL,aAAa,CAACM,MAAM;MACvB,OAAOP,OAAO,CAACQ,QAAQ;IAEzB,KAAKP,aAAa,CAACQ,MAAM;MACvB,OAAOT,OAAO,CAACU,QAAQ;IAEzB,KAAKT,aAAa,CAACU,GAAG;MACpB,OAAOX,OAAO,CAACY,KAAK;IAEtB,KAAKX,aAAa,CAACY,QAAQ;MACzB,OAAOb,OAAO,CAACc,UAAU;IAE3B,KAAKb,aAAa,CAACc,YAAY;MAC7B,OAAOf,OAAO,CAACgB,aAAa;IAE9B,KAAKf,aAAa,CAACgB,YAAY;MAC7B,OAAOjB,OAAO,CAACkB,aAAa;IAE9B,KAAKjB,aAAa,CAACkB,UAAU;MAC3B,OAAOnB,OAAO,CAACoB,WAAW;IAE5B,KAAKnB,aAAa,CAACoB,iBAAiB;MAClC,OAAOrB,OAAO,CAACsB,kBAAkB;EACrC;AACF\\\"}\"\n};\nvar _worklet_6916423172178_init_data = {\n  code: \"function touchEventTypeToCallbackType(eventType) {\\n  const {\\n    EventType,\\n    CALLBACK_TYPE\\n  } = this._closure;\\n  switch (eventType) {\\n    case EventType.TOUCHES_DOWN:\\n      return CALLBACK_TYPE.TOUCHES_DOWN;\\n    case EventType.TOUCHES_MOVE:\\n      return CALLBACK_TYPE.TOUCHES_MOVE;\\n    case EventType.TOUCHES_UP:\\n      return CALLBACK_TYPE.TOUCHES_UP;\\n    case EventType.TOUCHES_CANCELLED:\\n      return CALLBACK_TYPE.TOUCHES_CANCELLED;\\n  }\\n  return CALLBACK_TYPE.UNDEFINED;\\n}\",\n  location: \"C:\\\\Users\\\\GGPC\\\\Documents\\\\kidsgram-web\\\\node_modules\\\\react-native-gesture-handler\\\\lib\\\\module\\\\handlers\\\\gestures\\\\GestureDetector.js\",\n  sourceMap: \"{\\\"version\\\":3,\\\"names\\\":[\\\"touchEventTypeToCallbackType\\\",\\\"eventType\\\",\\\"EventType\\\",\\\"CALLBACK_TYPE\\\",\\\"_closure\\\",\\\"TOUCHES_DOWN\\\",\\\"TOUCHES_MOVE\\\",\\\"TOUCHES_UP\\\",\\\"TOUCHES_CANCELLED\\\",\\\"UNDEFINED\\\"],\\\"sources\\\":[\\\"C:/Users/GGPC/Documents/kidsgram-web/node_modules/react-native-gesture-handler/lib/module/handlers/gestures/GestureDetector.js\\\"],\\\"mappings\\\":\\\"AAyME,SAAAA,4BAASA,CAA6BC,SAAA,EAAS;EAAA;IAAAC,SAAA;IAAAC;EAAA,SAAAC,QAAA;EAG7C,QAAQH,SAAS;IACf,KAAKC,SAAS,CAACG,YAAY;MACzB,OAAOF,aAAa,CAACE,YAAY;IAEnC,KAAKH,SAAS,CAACI,YAAY;MACzB,OAAOH,aAAa,CAACG,YAAY;IAEnC,KAAKJ,SAAS,CAACK,UAAU;MACvB,OAAOJ,aAAa,CAACI,UAAU;IAEjC,KAAKL,SAAS,CAACM,iBAAiB;MAC9B,OAAOL,aAAa,CAACK,iBAAiB;EAC1C;EAEA,OAAOL,aAAa,CAACM,SAAS;AAChC\\\"}\"\n};\nvar _worklet_1856011977045_init_data = {\n  code: \"function runWorklet(type, gesture, event, ...args) {\\n  const {\\n    getHandler\\n  } = this._closure;\\n  const handler = getHandler(type, gesture);\\n  if (gesture.isWorklet[type]) {\\n    handler === null || handler === void 0 ? void 0 : handler(event, ...args);\\n  } else if (handler) {\\n    console.warn('Animated gesture callback must be a worklet');\\n  }\\n}\",\n  location: \"C:\\\\Users\\\\GGPC\\\\Documents\\\\kidsgram-web\\\\node_modules\\\\react-native-gesture-handler\\\\lib\\\\module\\\\handlers\\\\gestures\\\\GestureDetector.js\",\n  sourceMap: \"{\\\"version\\\":3,\\\"names\\\":[\\\"runWorklet\\\",\\\"type\\\",\\\"gesture\\\",\\\"event\\\",\\\"args\\\",\\\"getHandler\\\",\\\"_closure\\\",\\\"handler\\\",\\\"isWorklet\\\",\\\"console\\\",\\\"warn\\\"],\\\"sources\\\":[\\\"C:/Users/GGPC/Documents/kidsgram-web/node_modules/react-native-gesture-handler/lib/module/handlers/gestures/GestureDetector.js\\\"],\\\"mappings\\\":\\\"AA6NE,SAAAA,UAASA,CAAWC,IAAA,EAAIC,OAAE,EAAOC,KAAE,EAAK,GAAEC,IAAG,EAAI;EAAA;IAAAC;EAAA,SAAAC,QAAA;EAG/C,MAAMC,OAAO,GAAGF,UAAU,CAACJ,IAAI,EAAEC,OAAO,CAAC;EAEzC,IAAIA,OAAO,CAACM,SAAS,CAACP,IAAI,CAAC,EAAE;IAG3BM,OAAO,KAAK,IAAI,IAAIA,OAAO,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAGA,OAAO,CAACJ,KAAK,EAAE,GAAGC,IAAI,CAAC;EAC3E,CAAC,MAAM,IAAIG,OAAO,EAAE;IAClBE,OAAO,CAACC,IAAI,CAAC,6CAA6C,CAAC;EAC7D;AACF\\\"}\"\n};\nvar _worklet_9137693911788_init_data = {\n  code: \"function anonymous(event) {\\n  const {\\n    sharedHandlersCallbacks,\\n    isStateChangeEvent,\\n    State,\\n    runWorklet,\\n    CALLBACK_TYPE,\\n    lastUpdateEvent,\\n    isTouchEvent,\\n    stateControllers,\\n    GestureStateManager,\\n    EventType,\\n    touchEventTypeToCallbackType\\n  } = this._closure;\\n  const currentCallback = sharedHandlersCallbacks.value;\\n  if (!currentCallback) {\\n    return;\\n  }\\n  for (let i = 0; i < currentCallback.length; i++) {\\n    const gesture = currentCallback[i];\\n    if (event.handlerTag === gesture.handlerTag) {\\n      if (isStateChangeEvent(event)) {\\n        if (event.oldState === State.UNDETERMINED && event.state === State.BEGAN) {\\n          runWorklet(CALLBACK_TYPE.BEGAN, gesture, event);\\n        } else if ((event.oldState === State.BEGAN || event.oldState === State.UNDETERMINED) && event.state === State.ACTIVE) {\\n          runWorklet(CALLBACK_TYPE.START, gesture, event);\\n          lastUpdateEvent.value[gesture.handlerTag] = undefined;\\n        } else if (event.oldState !== event.state && event.state === State.END) {\\n          if (event.oldState === State.ACTIVE) {\\n            runWorklet(CALLBACK_TYPE.END, gesture, event, true);\\n          }\\n          runWorklet(CALLBACK_TYPE.FINALIZE, gesture, event, true);\\n        } else if ((event.state === State.FAILED || event.state === State.CANCELLED) && event.state !== event.oldState) {\\n          if (event.oldState === State.ACTIVE) {\\n            runWorklet(CALLBACK_TYPE.END, gesture, event, false);\\n          }\\n          runWorklet(CALLBACK_TYPE.FINALIZE, gesture, event, false);\\n        }\\n      } else if (isTouchEvent(event)) {\\n        if (!stateControllers[i]) {\\n          stateControllers[i] = GestureStateManager.create(event.handlerTag);\\n        }\\n        if (event.eventType !== EventType.UNDETERMINED) {\\n          runWorklet(touchEventTypeToCallbackType(event.eventType), gesture, event, stateControllers[i]);\\n        }\\n      } else {\\n        runWorklet(CALLBACK_TYPE.UPDATE, gesture, event);\\n        if (gesture.onChange && gesture.changeEventCalculator) {\\n          var _gesture$changeEventC;\\n          runWorklet(CALLBACK_TYPE.CHANGE, gesture, (_gesture$changeEventC = gesture.changeEventCalculator) === null || _gesture$changeEventC === void 0 ? void 0 : _gesture$changeEventC.call(gesture, event, lastUpdateEvent.value[gesture.handlerTag]));\\n          lastUpdateEvent.value[gesture.handlerTag] = event;\\n        }\\n      }\\n    }\\n  }\\n}\",\n  location: \"C:\\\\Users\\\\GGPC\\\\Documents\\\\kidsgram-web\\\\node_modules\\\\react-native-gesture-handler\\\\lib\\\\module\\\\handlers\\\\gestures\\\\GestureDetector.js\",\n  sourceMap: \"{\\\"version\\\":3,\\\"names\\\":[\\\"anonymous\\\",\\\"event\\\",\\\"sharedHandlersCallbacks\\\",\\\"isStateChangeEvent\\\",\\\"State\\\",\\\"runWorklet\\\",\\\"CALLBACK_TYPE\\\",\\\"lastUpdateEvent\\\",\\\"isTouchEvent\\\",\\\"stateControllers\\\",\\\"GestureStateManager\\\",\\\"EventType\\\",\\\"touchEventTypeToCallbackType\\\",\\\"_closure\\\",\\\"currentCallback\\\",\\\"value\\\",\\\"i\\\",\\\"length\\\",\\\"gesture\\\",\\\"handlerTag\\\",\\\"oldState\\\",\\\"UNDETERMINED\\\",\\\"state\\\",\\\"BEGAN\\\",\\\"ACTIVE\\\",\\\"START\\\",\\\"undefined\\\",\\\"END\\\",\\\"FINALIZE\\\",\\\"FAILED\\\",\\\"CANCELLED\\\",\\\"create\\\",\\\"eventType\\\",\\\"UPDATE\\\",\\\"onChange\\\",\\\"changeEventCalculator\\\",\\\"_gesture$changeEventC\\\",\\\"CHANGE\\\",\\\"call\\\"],\\\"sources\\\":[\\\"C:/Users/GGPC/Documents/kidsgram-web/node_modules/react-native-gesture-handler/lib/module/handlers/gestures/GestureDetector.js\\\"],\\\"mappings\\\":\\\"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\\\"}\"\n};\nfunction useAnimatedGesture(preparedGesture) {\n  if (!Reanimated) {\n    return;\n  }\n  var isStateChangeEvent = function () {\n    var _e = [new global.Error(), 1, -27];\n    var _f = function _f(event) {\n      return event.oldState != null;\n    };\n    _f._closure = {};\n    _f.__initData = _worklet_6011490867213_init_data;\n    _f.__workletHash = 6011490867213;\n    _f.__stackDetails = _e;\n    _f.__version = \"3.3.0\";\n    return _f;\n  }();\n  var isTouchEvent = function () {\n    var _e = [new global.Error(), 1, -27];\n    var _f = function _f(event) {\n      return event.eventType != null;\n    };\n    _f._closure = {};\n    _f.__initData = _worklet_10181097307677_init_data;\n    _f.__workletHash = 10181097307677;\n    _f.__stackDetails = _e;\n    _f.__version = \"3.3.0\";\n    return _f;\n  }();\n  var getHandler = function () {\n    var _e = [new global.Error(), -2, -27];\n    var _f = function _f(type, gesture) {\n      switch (type) {\n        case CALLBACK_TYPE.BEGAN:\n          return gesture.onBegin;\n        case CALLBACK_TYPE.START:\n          return gesture.onStart;\n        case CALLBACK_TYPE.UPDATE:\n          return gesture.onUpdate;\n        case CALLBACK_TYPE.CHANGE:\n          return gesture.onChange;\n        case CALLBACK_TYPE.END:\n          return gesture.onEnd;\n        case CALLBACK_TYPE.FINALIZE:\n          return gesture.onFinalize;\n        case CALLBACK_TYPE.TOUCHES_DOWN:\n          return gesture.onTouchesDown;\n        case CALLBACK_TYPE.TOUCHES_MOVE:\n          return gesture.onTouchesMove;\n        case CALLBACK_TYPE.TOUCHES_UP:\n          return gesture.onTouchesUp;\n        case CALLBACK_TYPE.TOUCHES_CANCELLED:\n          return gesture.onTouchesCancelled;\n      }\n    };\n    _f._closure = {\n      CALLBACK_TYPE: CALLBACK_TYPE\n    };\n    _f.__initData = _worklet_6740083841975_init_data;\n    _f.__workletHash = 6740083841975;\n    _f.__stackDetails = _e;\n    _f.__version = \"3.3.0\";\n    return _f;\n  }();\n  var touchEventTypeToCallbackType = function () {\n    var _e = [new global.Error(), -3, -27];\n    var _f = function _f(eventType) {\n      switch (eventType) {\n        case EventType.TOUCHES_DOWN:\n          return CALLBACK_TYPE.TOUCHES_DOWN;\n        case EventType.TOUCHES_MOVE:\n          return CALLBACK_TYPE.TOUCHES_MOVE;\n        case EventType.TOUCHES_UP:\n          return CALLBACK_TYPE.TOUCHES_UP;\n        case EventType.TOUCHES_CANCELLED:\n          return CALLBACK_TYPE.TOUCHES_CANCELLED;\n      }\n      return CALLBACK_TYPE.UNDEFINED;\n    };\n    _f._closure = {\n      EventType: EventType,\n      CALLBACK_TYPE: CALLBACK_TYPE\n    };\n    _f.__initData = _worklet_6916423172178_init_data;\n    _f.__workletHash = 6916423172178;\n    _f.__stackDetails = _e;\n    _f.__version = \"3.3.0\";\n    return _f;\n  }();\n  var runWorklet = function () {\n    var _e = [new global.Error(), -2, -27];\n    var _f = function _f(type, gesture, event) {\n      var handler = getHandler(type, gesture);\n      if (gesture.isWorklet[type]) {\n        for (var _len = arguments.length, args = new Array(_len > 3 ? _len - 3 : 0), _key = 3; _key < _len; _key++) {\n          args[_key - 3] = arguments[_key];\n        }\n        handler === null || handler === void 0 ? void 0 : handler.apply(void 0, [event].concat(args));\n      } else if (handler) {\n        console.warn('Animated gesture callback must be a worklet');\n      }\n    };\n    _f._closure = {\n      getHandler: getHandler\n    };\n    _f.__initData = _worklet_1856011977045_init_data;\n    _f.__workletHash = 1856011977045;\n    _f.__stackDetails = _e;\n    _f.__version = \"3.3.0\";\n    return _f;\n  }();\n  var sharedHandlersCallbacks = Reanimated.useSharedValue(null);\n  var lastUpdateEvent = Reanimated.useSharedValue([]);\n  var stateControllers = [];\n  var callback = function () {\n    var _e = [new global.Error(), -12, -27];\n    var _f = function _f(event) {\n      var currentCallback = sharedHandlersCallbacks.value;\n      if (!currentCallback) {\n        return;\n      }\n      for (var i = 0; i < currentCallback.length; i++) {\n        var gesture = currentCallback[i];\n        if (event.handlerTag === gesture.handlerTag) {\n          if (isStateChangeEvent(event)) {\n            if (event.oldState === State.UNDETERMINED && event.state === State.BEGAN) {\n              runWorklet(CALLBACK_TYPE.BEGAN, gesture, event);\n            } else if ((event.oldState === State.BEGAN || event.oldState === State.UNDETERMINED) && event.state === State.ACTIVE) {\n              runWorklet(CALLBACK_TYPE.START, gesture, event);\n              lastUpdateEvent.value[gesture.handlerTag] = undefined;\n            } else if (event.oldState !== event.state && event.state === State.END) {\n              if (event.oldState === State.ACTIVE) {\n                runWorklet(CALLBACK_TYPE.END, gesture, event, true);\n              }\n              runWorklet(CALLBACK_TYPE.FINALIZE, gesture, event, true);\n            } else if ((event.state === State.FAILED || event.state === State.CANCELLED) && event.state !== event.oldState) {\n              if (event.oldState === State.ACTIVE) {\n                runWorklet(CALLBACK_TYPE.END, gesture, event, false);\n              }\n              runWorklet(CALLBACK_TYPE.FINALIZE, gesture, event, false);\n            }\n          } else if (isTouchEvent(event)) {\n            if (!stateControllers[i]) {\n              stateControllers[i] = GestureStateManager.create(event.handlerTag);\n            }\n            if (event.eventType !== EventType.UNDETERMINED) {\n              runWorklet(touchEventTypeToCallbackType(event.eventType), gesture, event, stateControllers[i]);\n            }\n          } else {\n            runWorklet(CALLBACK_TYPE.UPDATE, gesture, event);\n            if (gesture.onChange && gesture.changeEventCalculator) {\n              var _gesture$changeEventC;\n              runWorklet(CALLBACK_TYPE.CHANGE, gesture, (_gesture$changeEventC = gesture.changeEventCalculator) === null || _gesture$changeEventC === void 0 ? void 0 : _gesture$changeEventC.call(gesture, event, lastUpdateEvent.value[gesture.handlerTag]));\n              lastUpdateEvent.value[gesture.handlerTag] = event;\n            }\n          }\n        }\n      }\n    };\n    _f._closure = {\n      sharedHandlersCallbacks: sharedHandlersCallbacks,\n      isStateChangeEvent: isStateChangeEvent,\n      State: State,\n      runWorklet: runWorklet,\n      CALLBACK_TYPE: CALLBACK_TYPE,\n      lastUpdateEvent: lastUpdateEvent,\n      isTouchEvent: isTouchEvent,\n      stateControllers: stateControllers,\n      GestureStateManager: GestureStateManager,\n      EventType: EventType,\n      touchEventTypeToCallbackType: touchEventTypeToCallbackType\n    };\n    _f.__initData = _worklet_9137693911788_init_data;\n    _f.__workletHash = 9137693911788;\n    _f.__stackDetails = _e;\n    _f.__version = \"3.3.0\";\n    return _f;\n  }();\n  var event = Reanimated.useEvent(callback, ['onGestureHandlerStateChange', 'onGestureHandlerEvent'], true);\n  preparedGesture.animatedEventHandler = event;\n  preparedGesture.animatedHandlers = sharedHandlersCallbacks;\n}\nexport var GestureDetector = function GestureDetector(props) {\n  var _gestureConfig$toGest, _gestureConfig$toGest2;\n  var gestureConfig = props.gesture;\n  var gesture = (_gestureConfig$toGest = gestureConfig === null || gestureConfig === void 0 ? void 0 : (_gestureConfig$toGest2 = gestureConfig.toGestureArray) === null || _gestureConfig$toGest2 === void 0 ? void 0 : _gestureConfig$toGest2.call(gestureConfig)) !== null && _gestureConfig$toGest !== void 0 ? _gestureConfig$toGest : [];\n  var useAnimated = gesture.find(function (gesture) {\n    return gesture.handlers.isWorklet.reduce(function (prev, current) {\n      return prev || current;\n    });\n  }) != null;\n  var viewRef = useRef(null);\n  var firstRenderRef = useRef(true);\n  var preparedGesture = React.useRef({\n    config: gesture,\n    animatedEventHandler: null,\n    animatedHandlers: null,\n    firstExecution: true,\n    useAnimated: useAnimated\n  }).current;\n  if (useAnimated !== preparedGesture.useAnimated) {\n    throw new Error('You cannot change whether you are using gesture or animatedGesture while the app is running');\n  }\n  if (preparedGesture.firstExecution) {\n    var _gestureConfig$initia;\n    gestureConfig === null || gestureConfig === void 0 ? void 0 : (_gestureConfig$initia = gestureConfig.initialize) === null || _gestureConfig$initia === void 0 ? void 0 : _gestureConfig$initia.call(gestureConfig);\n  }\n  if (useAnimated) {\n    useAnimatedGesture(preparedGesture);\n  }\n  useEffect(function () {\n    firstRenderRef.current = true;\n    var viewTag = findNodeHandle(viewRef.current);\n    attachHandlers({\n      preparedGesture: preparedGesture,\n      gestureConfig: gestureConfig,\n      gesture: gesture,\n      viewTag: viewTag,\n      useAnimated: useAnimated\n    });\n    return function () {\n      dropHandlers(preparedGesture);\n    };\n  }, []);\n  useEffect(function () {\n    if (!firstRenderRef.current) {\n      var viewTag = findNodeHandle(viewRef.current);\n      if (needsToReattach(preparedGesture, gesture)) {\n        dropHandlers(preparedGesture);\n        attachHandlers({\n          preparedGesture: preparedGesture,\n          gestureConfig: gestureConfig,\n          gesture: gesture,\n          viewTag: viewTag,\n          useAnimated: useAnimated\n        });\n      } else {\n        updateHandlers(preparedGesture, gestureConfig, gesture);\n      }\n    } else {\n      firstRenderRef.current = false;\n    }\n  }, [props]);\n  if (useAnimated) {\n    return React.createElement(AnimatedWrap, {\n      ref: viewRef,\n      onGestureHandlerEvent: preparedGesture.animatedEventHandler\n    }, props.children);\n  } else {\n    return React.createElement(Wrap, {\n      ref: viewRef\n    }, props.children);\n  }\n};\nvar Wrap = function (_React$Component) {\n  _inherits(Wrap, _React$Component);\n  var _super = _createSuper(Wrap);\n  function Wrap() {\n    _classCallCheck(this, Wrap);\n    return _super.apply(this, arguments);\n  }\n  _createClass(Wrap, [{\n    key: \"render\",\n    value: function render() {\n      var child = React.Children.only(this.props.children);\n      return React.cloneElement(child, {\n        collapsable: false\n      }, child.props.children);\n    }\n  }]);\n  return Wrap;\n}(React.Component);\nvar AnimatedWrap = (_Reanimated$default$c = Reanimated === null || Reanimated === void 0 ? void 0 : (_Reanimated$default = Reanimated.default) === null || _Reanimated$default === void 0 ? void 0 : _Reanimated$default.createAnimatedComponent(Wrap)) !== null && _Reanimated$default$c !== void 0 ? _Reanimated$default$c : Wrap;","map":{"version":3,"names":["React","useEffect","useRef","BaseGesture","CALLBACK_TYPE","Reanimated","registerHandler","unregisterHandler","RNGestureHandlerModule","baseGestureHandlerWithMonitorProps","filterConfig","findNodeHandle","GestureStateManager","flingGestureHandlerProps","forceTouchGestureHandlerProps","longPressGestureHandlerProps","panGestureHandlerProps","panGestureHandlerCustomNativeProps","tapGestureHandlerProps","State","EventType","ALLOWED_PROPS","concat","_toConsumableArray","convertToHandlerTag","ref","handlerTag","_ref$current$handlerT","_ref$current","current","extractValidHandlerTags","interactionGroup","_interactionGroup$map","_interactionGroup$map2","map","filter","tag","dropHandlers","preparedGesture","_iterator","_createForOfIteratorHelperLoose","config","_step","done","handler","value","dropGestureHandler","attachHandlers","_ref","gestureConfig","gesture","viewTag","useAnimated","firstExecution","initialize","setImmediate","prepare","_loop","createGestureHandler","handlerName","requireToFail","simultaneousWith","updateGestureHandler","simultaneousHandlers","waitFor","_iterator2","_step2","_iterator3","_step3","attachGestureHandler","animatedHandlers","g","handlers","updateHandlers","i","length","needsToReattach","_worklet_6011490867213_init_data","code","location","sourceMap","_worklet_10181097307677_init_data","_worklet_6740083841975_init_data","_worklet_6916423172178_init_data","_worklet_1856011977045_init_data","_worklet_9137693911788_init_data","useAnimatedGesture","isStateChangeEvent","_e","global","Error","_f","event","oldState","_closure","__initData","__workletHash","__stackDetails","__version","isTouchEvent","eventType","getHandler","type","BEGAN","onBegin","START","onStart","UPDATE","onUpdate","CHANGE","onChange","END","onEnd","FINALIZE","onFinalize","TOUCHES_DOWN","onTouchesDown","TOUCHES_MOVE","onTouchesMove","TOUCHES_UP","onTouchesUp","TOUCHES_CANCELLED","onTouchesCancelled","touchEventTypeToCallbackType","UNDEFINED","runWorklet","isWorklet","_len","arguments","args","Array","_key","apply","console","warn","sharedHandlersCallbacks","useSharedValue","lastUpdateEvent","stateControllers","callback","currentCallback","UNDETERMINED","state","ACTIVE","undefined","FAILED","CANCELLED","create","changeEventCalculator","_gesture$changeEventC","call","useEvent","animatedEventHandler","GestureDetector","props","_gestureConfig$toGest","_gestureConfig$toGest2","toGestureArray","find","reduce","prev","viewRef","firstRenderRef","_gestureConfig$initia","createElement","AnimatedWrap","onGestureHandlerEvent","children","Wrap","_React$Component","_inherits","_super","_createSuper","_classCallCheck","_createClass","key","render","child","Children","only","cloneElement","collapsable","Component","_Reanimated$default$c","_Reanimated$default","default","createAnimatedComponent"],"sources":["C:\\Users\\GGPC\\Documents\\kidsgram-web\\node_modules\\react-native-gesture-handler\\lib\\module\\handlers\\gestures\\GestureDetector.tsx"],"sourcesContent":["import React, { useEffect, useRef } from 'react';\nimport {\n  GestureType,\n  HandlerCallbacks,\n  BaseGesture,\n  GestureRef,\n  CALLBACK_TYPE,\n} from './gesture';\nimport { Reanimated, SharedValue } from './reanimatedWrapper';\nimport { registerHandler, unregisterHandler } from '../handlersRegistry';\nimport RNGestureHandlerModule from '../../RNGestureHandlerModule';\nimport {\n  baseGestureHandlerWithMonitorProps,\n  filterConfig,\n  findNodeHandle,\n  GestureTouchEvent,\n  GestureUpdateEvent,\n  GestureStateChangeEvent,\n} from '../gestureHandlerCommon';\nimport {\n  GestureStateManager,\n  GestureStateManagerType,\n} from './gestureStateManager';\nimport { flingGestureHandlerProps } from '../FlingGestureHandler';\nimport { forceTouchGestureHandlerProps } from '../ForceTouchGestureHandler';\nimport { longPressGestureHandlerProps } from '../LongPressGestureHandler';\nimport {\n  panGestureHandlerProps,\n  panGestureHandlerCustomNativeProps,\n} from '../PanGestureHandler';\nimport { tapGestureHandlerProps } from '../TapGestureHandler';\nimport { State } from '../../State';\nimport { EventType } from '../../EventType';\nimport { ComposedGesture } from './gestureComposition';\n\nconst ALLOWED_PROPS = [\n  ...baseGestureHandlerWithMonitorProps,\n  ...tapGestureHandlerProps,\n  ...panGestureHandlerProps,\n  ...panGestureHandlerCustomNativeProps,\n  ...longPressGestureHandlerProps,\n  ...forceTouchGestureHandlerProps,\n  ...flingGestureHandlerProps,\n];\n\nexport type GestureConfigReference = {\n  config: GestureType[];\n  animatedEventHandler: unknown;\n  animatedHandlers: SharedValue<\n    HandlerCallbacks<Record<string, unknown>>[] | null\n  > | null;\n  firstExecution: boolean;\n  useAnimated: boolean;\n};\n\nfunction convertToHandlerTag(ref: GestureRef): number {\n  if (typeof ref === 'number') {\n    return ref;\n  } else if (ref instanceof BaseGesture) {\n    return ref.handlerTag;\n  } else {\n    // @ts-ignore in this case it should be a ref either to gesture object or\n    // a gesture handler component, in both cases handlerTag property exists\n    return ref.current?.handlerTag ?? -1;\n  }\n}\n\nfunction extractValidHandlerTags(interactionGroup: GestureRef[] | undefined) {\n  return (\n    interactionGroup?.map(convertToHandlerTag)?.filter((tag) => tag > 0) ?? []\n  );\n}\n\nfunction dropHandlers(preparedGesture: GestureConfigReference) {\n  for (const handler of preparedGesture.config) {\n    RNGestureHandlerModule.dropGestureHandler(handler.handlerTag);\n\n    unregisterHandler(handler.handlerTag);\n  }\n}\n\ninterface AttachHandlersConfig {\n  preparedGesture: GestureConfigReference;\n  gestureConfig: ComposedGesture | GestureType | undefined;\n  gesture: GestureType[];\n  viewTag: number;\n  useAnimated: boolean;\n}\n\nfunction attachHandlers({\n  preparedGesture,\n  gestureConfig,\n  gesture,\n  viewTag,\n  useAnimated,\n}: AttachHandlersConfig) {\n  if (!preparedGesture.firstExecution) {\n    gestureConfig?.initialize();\n  } else {\n    preparedGesture.firstExecution = false;\n  }\n\n  // use setImmediate to extract handlerTags, because all refs should be initialized\n  // when it's ran\n  setImmediate(() => {\n    gestureConfig?.prepare();\n  });\n\n  for (const handler of gesture) {\n    RNGestureHandlerModule.createGestureHandler(\n      handler.handlerName,\n      handler.handlerTag,\n      filterConfig(handler.config, ALLOWED_PROPS)\n    );\n\n    registerHandler(handler.handlerTag, handler);\n\n    // use setImmediate to extract handlerTags, because all refs should be initialized\n    // when it's ran\n    setImmediate(() => {\n      let requireToFail: number[] = [];\n      if (handler.config.requireToFail) {\n        requireToFail = extractValidHandlerTags(handler.config.requireToFail);\n      }\n\n      let simultaneousWith: number[] = [];\n      if (handler.config.simultaneousWith) {\n        simultaneousWith = extractValidHandlerTags(\n          handler.config.simultaneousWith\n        );\n      }\n\n      RNGestureHandlerModule.updateGestureHandler(\n        handler.handlerTag,\n        filterConfig(handler.config, ALLOWED_PROPS, {\n          simultaneousHandlers: simultaneousWith,\n          waitFor: requireToFail,\n        })\n      );\n    });\n  }\n  preparedGesture.config = gesture;\n\n  for (const gesture of preparedGesture.config) {\n    RNGestureHandlerModule.attachGestureHandler(\n      gesture.handlerTag,\n      viewTag,\n      !useAnimated // send direct events when using animatedGesture, device events otherwise\n    );\n  }\n\n  if (preparedGesture.animatedHandlers) {\n    preparedGesture.animatedHandlers.value = (gesture.map(\n      (g) => g.handlers\n    ) as unknown) as HandlerCallbacks<Record<string, unknown>>[];\n  }\n}\n\nfunction updateHandlers(\n  preparedGesture: GestureConfigReference,\n  gestureConfig: ComposedGesture | GestureType | undefined,\n  gesture: GestureType[]\n) {\n  gestureConfig?.prepare();\n\n  for (let i = 0; i < gesture.length; i++) {\n    const handler = preparedGesture.config[i];\n\n    gesture[i].handlerTag = handler.handlerTag;\n    gesture[i].handlers.handlerTag = handler.handlerTag;\n  }\n\n  // use setImmediate to extract handlerTags, because when it's ran, all refs should be updated\n  // and handlerTags in BaseGesture references should be updated in the loop above (we need to wait\n  // in case of external relations)\n  setImmediate(() => {\n    for (let i = 0; i < gesture.length; i++) {\n      const handler = preparedGesture.config[i];\n\n      handler.config = gesture[i].config;\n      handler.handlers = gesture[i].handlers;\n      handler.handlers.handlerTag = handler.handlerTag;\n\n      const requireToFail = extractValidHandlerTags(\n        handler.config.requireToFail\n      );\n\n      const simultaneousWith = extractValidHandlerTags(\n        handler.config.simultaneousWith\n      );\n\n      RNGestureHandlerModule.updateGestureHandler(\n        handler.handlerTag,\n        filterConfig(handler.config, ALLOWED_PROPS, {\n          simultaneousHandlers: simultaneousWith,\n          waitFor: requireToFail,\n        })\n      );\n\n      registerHandler(handler.handlerTag, handler);\n    }\n\n    if (preparedGesture.animatedHandlers) {\n      preparedGesture.animatedHandlers.value = (preparedGesture.config.map(\n        (g) => g.handlers\n      ) as unknown) as HandlerCallbacks<Record<string, unknown>>[];\n    }\n  });\n}\n\nfunction needsToReattach(\n  preparedGesture: GestureConfigReference,\n  gesture: GestureType[]\n) {\n  if (gesture.length !== preparedGesture.config.length) {\n    return true;\n  }\n  for (let i = 0; i < gesture.length; i++) {\n    if (gesture[i].handlerName !== preparedGesture.config[i].handlerName) {\n      return true;\n    }\n  }\n\n  return false;\n}\n\nfunction useAnimatedGesture(preparedGesture: GestureConfigReference) {\n  if (!Reanimated) {\n    return;\n  }\n\n  function isStateChangeEvent(\n    event: GestureUpdateEvent | GestureStateChangeEvent | GestureTouchEvent\n  ): event is GestureStateChangeEvent {\n    'worklet';\n    // @ts-ignore Yes, the oldState prop is missing on GestureTouchEvent, that's the point\n    return event.oldState != null;\n  }\n\n  function isTouchEvent(\n    event: GestureUpdateEvent | GestureStateChangeEvent | GestureTouchEvent\n  ): event is GestureTouchEvent {\n    'worklet';\n    return event.eventType != null;\n  }\n\n  function getHandler(\n    type: CALLBACK_TYPE,\n    gesture: HandlerCallbacks<Record<string, unknown>>\n  ) {\n    'worklet';\n    switch (type) {\n      case CALLBACK_TYPE.BEGAN:\n        return gesture.onBegin;\n      case CALLBACK_TYPE.START:\n        return gesture.onStart;\n      case CALLBACK_TYPE.UPDATE:\n        return gesture.onUpdate;\n      case CALLBACK_TYPE.CHANGE:\n        return gesture.onChange;\n      case CALLBACK_TYPE.END:\n        return gesture.onEnd;\n      case CALLBACK_TYPE.FINALIZE:\n        return gesture.onFinalize;\n      case CALLBACK_TYPE.TOUCHES_DOWN:\n        return gesture.onTouchesDown;\n      case CALLBACK_TYPE.TOUCHES_MOVE:\n        return gesture.onTouchesMove;\n      case CALLBACK_TYPE.TOUCHES_UP:\n        return gesture.onTouchesUp;\n      case CALLBACK_TYPE.TOUCHES_CANCELLED:\n        return gesture.onTouchesCancelled;\n    }\n  }\n\n  function touchEventTypeToCallbackType(eventType: EventType): CALLBACK_TYPE {\n    'worklet';\n    switch (eventType) {\n      case EventType.TOUCHES_DOWN:\n        return CALLBACK_TYPE.TOUCHES_DOWN;\n      case EventType.TOUCHES_MOVE:\n        return CALLBACK_TYPE.TOUCHES_MOVE;\n      case EventType.TOUCHES_UP:\n        return CALLBACK_TYPE.TOUCHES_UP;\n      case EventType.TOUCHES_CANCELLED:\n        return CALLBACK_TYPE.TOUCHES_CANCELLED;\n    }\n    return CALLBACK_TYPE.UNDEFINED;\n  }\n\n  function runWorklet(\n    type: CALLBACK_TYPE,\n    gesture: HandlerCallbacks<Record<string, unknown>>,\n    event: GestureStateChangeEvent | GestureUpdateEvent | GestureTouchEvent,\n    ...args: any[]\n  ) {\n    'worklet';\n    const handler = getHandler(type, gesture);\n    if (gesture.isWorklet[type]) {\n      // @ts-ignore Logic below makes sure the correct event is send to the\n      // correct handler.\n      handler?.(event, ...args);\n    } else if (handler) {\n      console.warn('Animated gesture callback must be a worklet');\n    }\n  }\n\n  // Hooks are called conditionally, but the condition is whether the\n  // react-native-reanimated is installed, which shouldn't change while running\n  // eslint-disable-next-line react-hooks/rules-of-hooks\n  const sharedHandlersCallbacks = Reanimated.useSharedValue<\n    HandlerCallbacks<Record<string, unknown>>[] | null\n  >(null);\n\n  // eslint-disable-next-line react-hooks/rules-of-hooks\n  const lastUpdateEvent = Reanimated.useSharedValue<\n    (GestureUpdateEvent | undefined)[]\n  >([]);\n\n  // not every gesture needs a state controller, init them lazily\n  const stateControllers: GestureStateManagerType[] = [];\n\n  const callback = (\n    event: GestureStateChangeEvent | GestureUpdateEvent | GestureTouchEvent\n  ) => {\n    'worklet';\n\n    const currentCallback = sharedHandlersCallbacks.value;\n    if (!currentCallback) {\n      return;\n    }\n\n    for (let i = 0; i < currentCallback.length; i++) {\n      const gesture = currentCallback[i];\n\n      if (event.handlerTag === gesture.handlerTag) {\n        if (isStateChangeEvent(event)) {\n          if (\n            event.oldState === State.UNDETERMINED &&\n            event.state === State.BEGAN\n          ) {\n            runWorklet(CALLBACK_TYPE.BEGAN, gesture, event);\n          } else if (\n            (event.oldState === State.BEGAN ||\n              event.oldState === State.UNDETERMINED) &&\n            event.state === State.ACTIVE\n          ) {\n            runWorklet(CALLBACK_TYPE.START, gesture, event);\n            lastUpdateEvent.value[gesture.handlerTag] = undefined;\n          } else if (\n            event.oldState !== event.state &&\n            event.state === State.END\n          ) {\n            if (event.oldState === State.ACTIVE) {\n              runWorklet(CALLBACK_TYPE.END, gesture, event, true);\n            }\n            runWorklet(CALLBACK_TYPE.FINALIZE, gesture, event, true);\n          } else if (\n            (event.state === State.FAILED || event.state === State.CANCELLED) &&\n            event.state !== event.oldState\n          ) {\n            if (event.oldState === State.ACTIVE) {\n              runWorklet(CALLBACK_TYPE.END, gesture, event, false);\n            }\n            runWorklet(CALLBACK_TYPE.FINALIZE, gesture, event, false);\n          }\n        } else if (isTouchEvent(event)) {\n          if (!stateControllers[i]) {\n            stateControllers[i] = GestureStateManager.create(event.handlerTag);\n          }\n\n          if (event.eventType !== EventType.UNDETERMINED) {\n            runWorklet(\n              touchEventTypeToCallbackType(event.eventType),\n              gesture,\n              event,\n              stateControllers[i]\n            );\n          }\n        } else {\n          runWorklet(CALLBACK_TYPE.UPDATE, gesture, event);\n\n          if (gesture.onChange && gesture.changeEventCalculator) {\n            runWorklet(\n              CALLBACK_TYPE.CHANGE,\n              gesture,\n              gesture.changeEventCalculator?.(\n                event,\n                lastUpdateEvent.value[gesture.handlerTag]\n              )\n            );\n\n            lastUpdateEvent.value[gesture.handlerTag] = event;\n          }\n        }\n      }\n    }\n  };\n\n  // eslint-disable-next-line react-hooks/rules-of-hooks\n  const event = Reanimated.useEvent(\n    callback,\n    ['onGestureHandlerStateChange', 'onGestureHandlerEvent'],\n    true\n  );\n\n  preparedGesture.animatedEventHandler = event;\n  preparedGesture.animatedHandlers = sharedHandlersCallbacks;\n}\n\ninterface GestureDetectorProps {\n  gesture?: ComposedGesture | GestureType;\n}\nexport const GestureDetector: React.FunctionComponent<GestureDetectorProps> = (\n  props\n) => {\n  const gestureConfig = props.gesture;\n  const gesture = gestureConfig?.toGestureArray?.() ?? [];\n  const useAnimated =\n    gesture.find((gesture) =>\n      gesture.handlers.isWorklet.reduce((prev, current) => prev || current)\n    ) != null;\n  const viewRef = useRef(null);\n  const firstRenderRef = useRef(true);\n\n  const preparedGesture = React.useRef<GestureConfigReference>({\n    config: gesture,\n    animatedEventHandler: null,\n    animatedHandlers: null,\n    firstExecution: true,\n    useAnimated: useAnimated,\n  }).current;\n\n  if (useAnimated !== preparedGesture.useAnimated) {\n    throw new Error(\n      'You cannot change whether you are using gesture or animatedGesture while the app is running'\n    );\n  }\n\n  if (preparedGesture.firstExecution) {\n    gestureConfig?.initialize?.();\n  }\n\n  if (useAnimated) {\n    // Whether animatedGesture or gesture is used shouldn't change\n    // during while an app is running\n    // eslint-disable-next-line react-hooks/rules-of-hooks\n    useAnimatedGesture(preparedGesture);\n  }\n\n  useEffect(() => {\n    firstRenderRef.current = true;\n    const viewTag = findNodeHandle(viewRef.current) as number;\n    attachHandlers({\n      preparedGesture,\n      gestureConfig,\n      gesture,\n      viewTag,\n      useAnimated,\n    });\n\n    return () => {\n      dropHandlers(preparedGesture);\n    };\n  }, []);\n\n  useEffect(() => {\n    if (!firstRenderRef.current) {\n      const viewTag = findNodeHandle(viewRef.current) as number;\n\n      if (needsToReattach(preparedGesture, gesture)) {\n        dropHandlers(preparedGesture);\n        attachHandlers({\n          preparedGesture,\n          gestureConfig,\n          gesture,\n          viewTag,\n          useAnimated,\n        });\n      } else {\n        updateHandlers(preparedGesture, gestureConfig, gesture);\n      }\n    } else {\n      firstRenderRef.current = false;\n    }\n  }, [props]);\n\n  if (useAnimated) {\n    return (\n      <AnimatedWrap\n        ref={viewRef}\n        onGestureHandlerEvent={preparedGesture.animatedEventHandler}>\n        {props.children}\n      </AnimatedWrap>\n    );\n  } else {\n    return <Wrap ref={viewRef}>{props.children}</Wrap>;\n  }\n};\n\nclass Wrap extends React.Component<{ onGestureHandlerEvent?: unknown }> {\n  render() {\n    // I don't think that fighting with types over such a simple function is worth it\n    // The only thing it does is add 'collapsable: false' to the child component\n    // to make sure it is in the native view hierarchy so the detector can find\n    // correct viewTag to attach to.\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    const child: any = React.Children.only(this.props.children);\n\n    return React.cloneElement(\n      child,\n      { collapsable: false },\n      // eslint-disable-next-line @typescript-eslint/no-unsafe-member-access\n      child.props.children\n    );\n  }\n}\n\nconst AnimatedWrap = Reanimated?.default?.createAnimatedComponent(Wrap) ?? Wrap;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}