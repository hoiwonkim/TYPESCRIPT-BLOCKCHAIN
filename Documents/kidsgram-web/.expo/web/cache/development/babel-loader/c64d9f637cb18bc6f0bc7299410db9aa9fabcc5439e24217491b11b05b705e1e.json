{"ast":null,"code":"import _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport styled from \"styled-components/native\";\nimport * as MediaLibrary from \"expo-media-library\";\nimport Slider from \"@react-native-community/slider\";\nimport { Camera } from \"expo-camera\";\nimport { CameraType, FlashMode } from \"expo-camera/build/Camera.types\";\nimport { useEffect, useRef, useState } from \"react\";\nimport { Ionicons } from \"@expo/vector-icons\";\nimport { MaterialIcons } from \"@expo/vector-icons\";\nimport { useIsFocused } from \"@react-navigation/core\";\nimport { TouchableOpacity } from \"react-native-gesture-handler\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nvar Container = styled.View`\n  flex: 1;\n`;\nvar CameraOn = styled(Camera)`\n  flex: 5;\n`;\nvar CameraOff = styled.View`\n  flex: 5;\n`;\nvar TakenPhotoPreview = styled.Image`\n  flex: 5;\n`;\nvar CameraButtons = styled.View`\n  flex: 1;\n  background-color: black;\n  justify-content: space-evenly;\n  align-items: center;\n  flex-direction: row;\n`;\nvar PreviewPhotoImage = styled.Image`\n  width: 50px;\n  height: 50px;\n  border-radius: 10px;\n`;\nvar TakePhotoButton = styled.TouchableOpacity`\n  width: 70px;\n  height: 70px;\n  background-color: white;\n  border-radius: 50px;\n`;\nvar FlipCameraTypeButton = styled.TouchableOpacity``;\nvar ActionContainer = styled.View`\n  background-color: black;\n  align-items: center;\n  justify-content: center;\n  flex-direction: row;\n  padding-top: 20px;\n`;\nvar FlashContainer = styled.TouchableOpacity``;\nvar SliderContainer = styled(Slider)`\n  width: 180px;\n  margin: 0 20px;\n`;\nvar ActionsButtons = styled.View`\n  background-color: transparent;\n  position: absolute;\n  top: 40px;\n  flex-direction: row;\n  align-items: center;\n  justify-content: space-between;\n  width: 100%;\n`;\nvar ActionButton = styled.TouchableOpacity`\n  padding: 15px;\n`;\nvar ActionText = styled.Text`\n  color: white;\n  font-size: 17px;\n`;\nvar TakePhoto = function TakePhoto(_ref) {\n  var navigation = _ref.navigation;\n  var cameraRef = useRef(new Camera({}));\n  var _useState = useState(0),\n    _useState2 = _slicedToArray(_useState, 2),\n    zoom = _useState2[0],\n    setZoom = _useState2[1];\n  var _useState3 = useState(Camera.Constants.WhiteBalance.auto),\n    _useState4 = _slicedToArray(_useState3, 2),\n    whiteBalance = _useState4[0],\n    setWhiteBalance = _useState4[1];\n  var _useState5 = useState(false),\n    _useState6 = _slicedToArray(_useState5, 2),\n    cameraReady = _useState6[0],\n    setCameraReady = _useState6[1];\n  var _useState7 = useState(\"\"),\n    _useState8 = _slicedToArray(_useState7, 2),\n    takenPhotoUri = _useState8[0],\n    setTakenPhotoUri = _useState8[1];\n  var _useState9 = useState(false),\n    _useState10 = _slicedToArray(_useState9, 2),\n    canTakePhoto = _useState10[0],\n    setCanTakePhoto = _useState10[1];\n  var _useState11 = useState(CameraType.back),\n    _useState12 = _slicedToArray(_useState11, 2),\n    cameraType = _useState12[0],\n    setCameraType = _useState12[1];\n  var _useState13 = useState(FlashMode.off),\n    _useState14 = _slicedToArray(_useState13, 2),\n    flashMode = _useState14[0],\n    setFlashMode = _useState14[1];\n  var _useState15 = useState(\"\"),\n    _useState16 = _slicedToArray(_useState15, 2),\n    previewPhoto = _useState16[0],\n    setPreviewPhoto = _useState16[1];\n  var isFocused = useIsFocused();\n  var handleNavigateToSelectPhotoScreen = function handleNavigateToSelectPhotoScreen() {\n    navigation.navigate(\"StackSelectPhoto\");\n  };\n  var handleGetPreviewPhoto = function () {\n    var _ref2 = _asyncToGenerator(function* () {\n      var pagedInfo = yield MediaLibrary.getAssetsAsync();\n      setPreviewPhoto(pagedInfo.assets[0].uri);\n    });\n    return function handleGetPreviewPhoto() {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n  var handleGetTakingPhotoPermission = function () {\n    var _ref3 = _asyncToGenerator(function* () {\n      var permissionResponse = yield Camera.getCameraPermissionsAsync();\n      if (permissionResponse.status !== \"granted\") {\n        var _permissionResponse = yield Camera.requestCameraPermissionsAsync();\n        if (_permissionResponse.status === \"granted\") {\n          setCanTakePhoto(true);\n        }\n      } else if (permissionResponse.status === \"granted\") {\n        setCanTakePhoto(true);\n      }\n    });\n    return function handleGetTakingPhotoPermission() {\n      return _ref3.apply(this, arguments);\n    };\n  }();\n  var handleFlipCamera = function handleFlipCamera() {\n    if (cameraType === CameraType.front) {\n      setCameraType(CameraType.back);\n    } else if (cameraType === CameraType.back) {\n      setCameraType(CameraType.front);\n    }\n  };\n  var onValueChange = function onValueChange(value) {\n    setZoom(value);\n  };\n  var handleFlashMode = function handleFlashMode() {\n    if (flashMode === FlashMode.off) {\n      setFlashMode(FlashMode.on);\n    } else if (flashMode === FlashMode.on) {\n      setFlashMode(FlashMode.off);\n    }\n  };\n  var handleWhiteBalance = function handleWhiteBalance() {\n    if (whiteBalance === Camera.Constants.WhiteBalance.auto) {\n      setWhiteBalance(Camera.Constants.WhiteBalance.cloudy);\n    } else if (whiteBalance === Camera.Constants.WhiteBalance.cloudy) {\n      setWhiteBalance(Camera.Constants.WhiteBalance.incandescent);\n    } else if (whiteBalance === Camera.Constants.WhiteBalance.incandescent) {\n      setWhiteBalance(Camera.Constants.WhiteBalance.fluorescent);\n    } else if (whiteBalance === Camera.Constants.WhiteBalance.fluorescent) {\n      setWhiteBalance(Camera.Constants.WhiteBalance.auto);\n    }\n  };\n  var onCameraReady = function onCameraReady() {\n    setCameraReady(true);\n  };\n  var handleTakePhoto = function () {\n    var _ref4 = _asyncToGenerator(function* () {\n      if (cameraRef.current && cameraReady === true) {\n        var _yield$cameraRef$curr = yield cameraRef.current.takePictureAsync({\n            quality: 1,\n            exif: true,\n            skipProcessing: true\n          }),\n          uri = _yield$cameraRef$curr.uri;\n        setTakenPhotoUri(uri);\n      }\n    });\n    return function handleTakePhoto() {\n      return _ref4.apply(this, arguments);\n    };\n  }();\n  var handleUploadPhoto = function () {\n    var _ref5 = _asyncToGenerator(function* () {\n      yield MediaLibrary.saveToLibraryAsync(takenPhotoUri);\n      navigation.navigate(\"StackUploadPhotoNavigation\", {\n        photoUri: takenPhotoUri\n      });\n    });\n    return function handleUploadPhoto() {\n      return _ref5.apply(this, arguments);\n    };\n  }();\n  var handleCancel = function handleCancel() {\n    setTakenPhotoUri(\"\");\n  };\n  useEffect(function () {\n    handleGetTakingPhotoPermission();\n    handleGetPreviewPhoto();\n  }, []);\n  useEffect(function () {\n    if (isFocused === true) {\n      setTakenPhotoUri(\"\");\n    }\n  }, [isFocused]);\n  return _jsxs(Container, {\n    children: [isFocused === false && _jsx(CameraOff, {}), isFocused === true && takenPhotoUri === \"\" && _jsx(CameraOn, {\n      ref: cameraRef,\n      onCameraReady: onCameraReady,\n      type: cameraType,\n      zoom: zoom,\n      flashMode: flashMode,\n      ratio: \"16:9\",\n      whiteBalance: whiteBalance\n    }), isFocused === true && takenPhotoUri !== \"\" ? _jsx(TakenPhotoPreview, {\n      source: {\n        uri: takenPhotoUri\n      }\n    }) : null, takenPhotoUri === \"\" ? _jsxs(ActionContainer, {\n      children: [_jsx(FlashContainer, {\n        onPress: handleFlashMode,\n        children: _jsx(Ionicons, {\n          name: flashMode === FlashMode.on ? \"flash-off\" : \"flash\",\n          size: 24,\n          color: \"white\"\n        })\n      }), _jsx(SliderContainer, {\n        onValueChange: onValueChange,\n        thumbTintColor: \"white\",\n        minimumValue: 0,\n        maximumValue: 1,\n        minimumTrackTintColor: \"rgba(255,255,255,1)\",\n        maximumTrackTintColor: \"rgba(255,255,255,0.8)\"\n      }), _jsxs(FlashContainer, {\n        onPress: handleWhiteBalance,\n        children: [whiteBalance === Camera.Constants.WhiteBalance.auto && _jsx(Ionicons, {\n          name: \"sunny\",\n          size: 24,\n          color: \"white\"\n        }), whiteBalance === Camera.Constants.WhiteBalance.cloudy && _jsx(Ionicons, {\n          name: \"cloudy\",\n          size: 24,\n          color: \"white\"\n        }), whiteBalance === Camera.Constants.WhiteBalance.incandescent && _jsx(Ionicons, {\n          name: \"rainy\",\n          size: 24,\n          color: \"white\"\n        }), whiteBalance === Camera.Constants.WhiteBalance.fluorescent && _jsx(Ionicons, {\n          name: \"md-cloudy-night\",\n          size: 24,\n          color: \"white\"\n        })]\n      })]\n    }) : null, takenPhotoUri === \"\" ? _jsxs(CameraButtons, {\n      children: [_jsx(TouchableOpacity, {\n        onPress: handleNavigateToSelectPhotoScreen,\n        children: previewPhoto && _jsx(PreviewPhotoImage, {\n          source: {\n            uri: previewPhoto\n          }\n        })\n      }), _jsx(TakePhotoButton, {\n        onPress: handleTakePhoto\n      }), _jsx(FlipCameraTypeButton, {\n        onPress: handleFlipCamera,\n        children: _jsx(MaterialIcons, {\n          name: \"flip-camera-android\",\n          size: 50,\n          color: \"white\"\n        })\n      })]\n    }) : _jsxs(ActionsButtons, {\n      children: [_jsx(ActionButton, {\n        onPress: handleCancel,\n        children: _jsx(Ionicons, {\n          name: \"chevron-back-outline\",\n          size: 27,\n          color: \"white\"\n        })\n      }), _jsx(ActionButton, {\n        onPress: handleUploadPhoto,\n        children: _jsx(ActionText, {\n          children: \"\\uC0AC\\uC9C4 \\uC5C5\\uB85C\\uB4DC\"\n        })\n      })]\n    })]\n  });\n};\nexport default TakePhoto;","map":{"version":3,"names":["styled","MediaLibrary","Slider","Camera","CameraType","FlashMode","useEffect","useRef","useState","Ionicons","MaterialIcons","useIsFocused","TouchableOpacity","jsx","_jsx","jsxs","_jsxs","Container","View","CameraOn","CameraOff","TakenPhotoPreview","Image","CameraButtons","PreviewPhotoImage","TakePhotoButton","FlipCameraTypeButton","ActionContainer","FlashContainer","SliderContainer","ActionsButtons","ActionButton","ActionText","Text","TakePhoto","_ref","navigation","cameraRef","_useState","_useState2","_slicedToArray","zoom","setZoom","_useState3","Constants","WhiteBalance","auto","_useState4","whiteBalance","setWhiteBalance","_useState5","_useState6","cameraReady","setCameraReady","_useState7","_useState8","takenPhotoUri","setTakenPhotoUri","_useState9","_useState10","canTakePhoto","setCanTakePhoto","_useState11","back","_useState12","cameraType","setCameraType","_useState13","off","_useState14","flashMode","setFlashMode","_useState15","_useState16","previewPhoto","setPreviewPhoto","isFocused","handleNavigateToSelectPhotoScreen","navigate","handleGetPreviewPhoto","_ref2","_asyncToGenerator","pagedInfo","getAssetsAsync","assets","uri","apply","arguments","handleGetTakingPhotoPermission","_ref3","permissionResponse","getCameraPermissionsAsync","status","requestCameraPermissionsAsync","handleFlipCamera","front","onValueChange","value","handleFlashMode","on","handleWhiteBalance","cloudy","incandescent","fluorescent","onCameraReady","handleTakePhoto","_ref4","current","_yield$cameraRef$curr","takePictureAsync","quality","exif","skipProcessing","handleUploadPhoto","_ref5","saveToLibraryAsync","photoUri","handleCancel","children","ref","type","ratio","source","onPress","name","size","color","thumbTintColor","minimumValue","maximumValue","minimumTrackTintColor","maximumTrackTintColor"],"sources":["C:/Users/GGPC/Documents/kidsgram-web/screens/TakePhoto.tsx"],"sourcesContent":["import styled from \"styled-components/native\";\r\nimport * as MediaLibrary from \"expo-media-library\";\r\nimport Slider from \"@react-native-community/slider\";\r\nimport { Camera, CameraCapturedPicture } from \"expo-camera\";\r\nimport { CameraType, FlashMode } from \"expo-camera/build/Camera.types\";\r\nimport { useEffect, useRef, useState } from \"react\";\r\nimport { Ionicons } from \"@expo/vector-icons\";\r\nimport { MaterialIcons } from \"@expo/vector-icons\";\r\nimport { useIsFocused } from \"@react-navigation/core\";\r\nimport { NativeStackScreenProps } from \"@react-navigation/native-stack\";\r\nimport { RootStackParamList } from \"../shared/shared.types\";\r\nimport { TouchableOpacity } from \"react-native-gesture-handler\";\r\n\r\ntype PhotoNavigationProps = NativeStackScreenProps<RootStackParamList, \"StackPhotoNavigation\">;\r\n\r\nconst Container = styled.View`\r\n  flex: 1;\r\n`;\r\n\r\nconst CameraOn = styled(Camera)`\r\n  flex: 5;\r\n`;\r\n\r\nconst CameraOff = styled.View`\r\n  flex: 5;\r\n`;\r\n\r\nconst TakenPhotoPreview = styled.Image`\r\n  flex: 5;\r\n`;\r\n\r\nconst CameraButtons = styled.View`\r\n  flex: 1;\r\n  background-color: black;\r\n  justify-content: space-evenly;\r\n  align-items: center;\r\n  flex-direction: row;\r\n`;\r\n\r\nconst PreviewPhotoImage = styled.Image`\r\n  width: 50px;\r\n  height: 50px;\r\n  border-radius: 10px;\r\n`;\r\n\r\nconst TakePhotoButton = styled.TouchableOpacity`\r\n  width: 70px;\r\n  height: 70px;\r\n  background-color: white;\r\n  border-radius: 50px;\r\n`;\r\n\r\nconst FlipCameraTypeButton = styled.TouchableOpacity``;\r\n\r\nconst ActionContainer = styled.View`\r\n  background-color: black;\r\n  align-items: center;\r\n  justify-content: center;\r\n  flex-direction: row;\r\n  padding-top: 20px;\r\n`;\r\n\r\nconst FlashContainer = styled.TouchableOpacity``;\r\n\r\nconst SliderContainer = styled(Slider)`\r\n  width: 180px;\r\n  margin: 0 20px;\r\n`;\r\n\r\nconst ActionsButtons = styled.View`\r\n  background-color: transparent;\r\n  position: absolute;\r\n  top: 40px;\r\n  flex-direction: row;\r\n  align-items: center;\r\n  justify-content: space-between;\r\n  width: 100%;\r\n`;\r\n\r\nconst ActionButton = styled.TouchableOpacity`\r\n  padding: 15px;\r\n`;\r\n\r\nconst ActionText = styled.Text`\r\n  color: white;\r\n  font-size: 17px;\r\n`;\r\n\r\nconst TakePhoto = ({ navigation }: PhotoNavigationProps) => {\r\n  const cameraRef = useRef(new Camera({}));\r\n  const [zoom, setZoom] = useState<number>(0);\r\n  const [whiteBalance, setWhiteBalance] = useState(Camera.Constants.WhiteBalance.auto);\r\n  const [cameraReady, setCameraReady] = useState<boolean>(false);\r\n  const [takenPhotoUri, setTakenPhotoUri] = useState<string>(\"\");\r\n  const [canTakePhoto, setCanTakePhoto] = useState<boolean>(false);\r\n  const [cameraType, setCameraType] = useState<CameraType>(CameraType.back);\r\n  const [flashMode, setFlashMode] = useState<FlashMode>(FlashMode.off);\r\n  const [previewPhoto, setPreviewPhoto] = useState<string>(\"\");\r\n  const isFocused: boolean = useIsFocused();\r\n\r\n  const handleNavigateToSelectPhotoScreen = (): void => {\r\n    navigation.navigate(\"StackSelectPhoto\");\r\n  };\r\n\r\n  const handleGetPreviewPhoto = async (): Promise<void> => {\r\n    const pagedInfo: MediaLibrary.PagedInfo<MediaLibrary.Asset> = await MediaLibrary.getAssetsAsync();\r\n    setPreviewPhoto(pagedInfo.assets[0].uri);\r\n  };\r\n\r\n  const handleGetTakingPhotoPermission = async (): Promise<void> => {\r\n    const permissionResponse: MediaLibrary.PermissionResponse = await Camera.getCameraPermissionsAsync();\r\n\r\n    if (permissionResponse.status !== \"granted\") {\r\n      const permissionResponse: MediaLibrary.PermissionResponse = await Camera.requestCameraPermissionsAsync();\r\n      if (permissionResponse.status === \"granted\") {\r\n        setCanTakePhoto(true);\r\n      }\r\n    } else if (permissionResponse.status === \"granted\") {\r\n      setCanTakePhoto(true);\r\n    }\r\n  };\r\n\r\n  const handleFlipCamera = (): void => {\r\n    if (cameraType === CameraType.front) {\r\n      setCameraType(CameraType.back);\r\n    } else if (cameraType === CameraType.back) {\r\n      setCameraType(CameraType.front);\r\n    }\r\n  };\r\n\r\n  const onValueChange = (value: number): void => {\r\n    setZoom(value);\r\n  };\r\n\r\n  const handleFlashMode = (): void => {\r\n    if (flashMode === FlashMode.off) {\r\n      setFlashMode(FlashMode.on);\r\n    } else if (flashMode === FlashMode.on) {\r\n      setFlashMode(FlashMode.off);\r\n    }\r\n  };\r\n\r\n  const handleWhiteBalance = (): void => {\r\n    if (whiteBalance === Camera.Constants.WhiteBalance.auto) {\r\n      setWhiteBalance(Camera.Constants.WhiteBalance.cloudy);\r\n    } else if (whiteBalance === Camera.Constants.WhiteBalance.cloudy) {\r\n      setWhiteBalance(Camera.Constants.WhiteBalance.incandescent);\r\n    } else if (whiteBalance === Camera.Constants.WhiteBalance.incandescent) {\r\n      setWhiteBalance(Camera.Constants.WhiteBalance.fluorescent);\r\n    } else if (whiteBalance === Camera.Constants.WhiteBalance.fluorescent) {\r\n      setWhiteBalance(Camera.Constants.WhiteBalance.auto);\r\n    }\r\n  };\r\n\r\n  const onCameraReady = (): void => {\r\n    setCameraReady(true);\r\n  };\r\n\r\n  const handleTakePhoto = async (): Promise<void> => {\r\n    if (cameraRef.current && cameraReady === true) {\r\n      const { uri }: CameraCapturedPicture = await cameraRef.current.takePictureAsync({\r\n        quality: 1,\r\n        exif: true,\r\n        skipProcessing: true,\r\n      });\r\n      setTakenPhotoUri(uri);\r\n    }\r\n  };\r\n\r\n  const handleUploadPhoto = async (): Promise<void> => {\r\n    await MediaLibrary.saveToLibraryAsync(takenPhotoUri);\r\n    navigation.navigate(\"StackUploadPhotoNavigation\", { photoUri: takenPhotoUri });\r\n  };\r\n\r\n  const handleCancel = (): void => {\r\n    setTakenPhotoUri(\"\");\r\n  };\r\n\r\n  useEffect(() => {\r\n    handleGetTakingPhotoPermission();\r\n    handleGetPreviewPhoto();\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (isFocused === true) {\r\n      setTakenPhotoUri(\"\");\r\n    }\r\n  }, [isFocused]);\r\n\r\n  return (\r\n    <Container>\r\n      {isFocused === false && <CameraOff />}\r\n      {isFocused === true && takenPhotoUri === \"\" && (\r\n        <CameraOn ref={cameraRef} onCameraReady={onCameraReady} type={cameraType} zoom={zoom} flashMode={flashMode} ratio=\"16:9\" whiteBalance={whiteBalance} />\r\n      )}\r\n      {isFocused === true && takenPhotoUri !== \"\" ? <TakenPhotoPreview source={{ uri: takenPhotoUri }} /> : null}\r\n      {takenPhotoUri === \"\" ? (\r\n        <ActionContainer>\r\n          <FlashContainer onPress={handleFlashMode}>\r\n            <Ionicons name={flashMode === FlashMode.on ? \"flash-off\" : \"flash\"} size={24} color=\"white\" />\r\n          </FlashContainer>\r\n          <SliderContainer\r\n            onValueChange={onValueChange}\r\n            thumbTintColor=\"white\"\r\n            minimumValue={0}\r\n            maximumValue={1}\r\n            minimumTrackTintColor=\"rgba(255,255,255,1)\"\r\n            maximumTrackTintColor=\"rgba(255,255,255,0.8)\"\r\n          />\r\n          <FlashContainer onPress={handleWhiteBalance}>\r\n            {whiteBalance === Camera.Constants.WhiteBalance.auto && <Ionicons name={\"sunny\"} size={24} color=\"white\" />}\r\n            {whiteBalance === Camera.Constants.WhiteBalance.cloudy && <Ionicons name={\"cloudy\"} size={24} color=\"white\" />}\r\n            {whiteBalance === Camera.Constants.WhiteBalance.incandescent && <Ionicons name={\"rainy\"} size={24} color=\"white\" />}\r\n            {whiteBalance === Camera.Constants.WhiteBalance.fluorescent && <Ionicons name={\"md-cloudy-night\"} size={24} color=\"white\" />}\r\n          </FlashContainer>\r\n        </ActionContainer>\r\n      ) : null}\r\n      {takenPhotoUri === \"\" ? (\r\n        <CameraButtons>\r\n          <TouchableOpacity onPress={handleNavigateToSelectPhotoScreen}>{previewPhoto && <PreviewPhotoImage source={{ uri: previewPhoto }} />}</TouchableOpacity>\r\n          <TakePhotoButton onPress={handleTakePhoto}></TakePhotoButton>\r\n          <FlipCameraTypeButton onPress={handleFlipCamera}>\r\n            <MaterialIcons name=\"flip-camera-android\" size={50} color=\"white\" />\r\n          </FlipCameraTypeButton>\r\n        </CameraButtons>\r\n      ) : (\r\n        <ActionsButtons>\r\n          <ActionButton onPress={handleCancel}>\r\n            <Ionicons name=\"chevron-back-outline\" size={27} color=\"white\" />\r\n          </ActionButton>\r\n          <ActionButton onPress={handleUploadPhoto}>\r\n            <ActionText>사진 업로드</ActionText>\r\n          </ActionButton>\r\n        </ActionsButtons>\r\n      )}\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default TakePhoto;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}