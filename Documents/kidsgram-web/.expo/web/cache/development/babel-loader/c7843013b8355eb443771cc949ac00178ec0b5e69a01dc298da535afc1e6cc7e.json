{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport _taggedTemplateLiteralLoose from \"@babel/runtime/helpers/taggedTemplateLiteralLoose\";\nvar _templateObject, _templateObject2, _templateObject3, _templateObject4, _templateObject5, _templateObject6, _templateObject7, _templateObject8, _templateObject9;\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport styled from \"styled-components/native\";\nimport Ionicons from \"@expo/vector-icons/Ionicons\";\nimport * as MediaLibrary from \"expo-media-library\";\nimport { useEffect, useState } from \"react\";\nimport { TouchableOpacity } from \"react-native-gesture-handler\";\nimport FlatList from \"react-native-web/dist/exports/FlatList\";\nimport useWindowDimensions from \"react-native-web/dist/exports/useWindowDimensions\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nvar Container = styled.View(_templateObject || (_templateObject = _taggedTemplateLiteralLoose([\"\\n  flex: 1;\\n  background-color: \", \";\\n\"])), function (props) {\n  return props.theme.bgColor;\n});\nvar TopPhotoContainer = styled.View(_templateObject2 || (_templateObject2 = _taggedTemplateLiteralLoose([\"\\n  flex: 1;\\n  background-color: \", \";\\n\"])), function (props) {\n  return props.theme.bgColor;\n});\nvar AssetPhotoImage = styled.Image(_templateObject3 || (_templateObject3 = _taggedTemplateLiteralLoose([\"\\n  width: \", \"px;\\n  height: 100%;\\n\"])), function (props) {\n  return props.width;\n});\nvar BottomPhotoContainer = styled.View(_templateObject4 || (_templateObject4 = _taggedTemplateLiteralLoose([\"\\n  flex: 1;\\n  background-color: \", \";\\n\"])), function (props) {\n  return props.theme.bgColor;\n});\nvar FlatListContainer = styled(FlatList)(_templateObject5 || (_templateObject5 = _taggedTemplateLiteralLoose([\"\\n  width: 100%;\\n\"])));\nvar AssetPhotoItem = styled.Image(_templateObject6 || (_templateObject6 = _taggedTemplateLiteralLoose([\"\\n  width: \", \"px;\\n  height: \", \"px;\\n\"])), function (props) {\n  return props.width / 4;\n}, function (props) {\n  return props.width / 4;\n});\nvar AssetPhotoItemIcon = styled(Ionicons)(_templateObject7 || (_templateObject7 = _taggedTemplateLiteralLoose([\"\\n  position: absolute;\\n  bottom: 3px;\\n  right: 3px;\\n\"])));\nvar HeaderRightContainer = styled.TouchableOpacity(_templateObject8 || (_templateObject8 = _taggedTemplateLiteralLoose([\"\\n  padding: 10px 12px;\\n\"])));\nvar HeaderRightText = styled.Text(_templateObject9 || (_templateObject9 = _taggedTemplateLiteralLoose([\"\\n  font-size: 17px;\\n  color: \", \";\\n  font-weight: bold;\\n\"])), function (props) {\n  return props.theme.activeColor;\n});\nvar SelectPhoto = function SelectPhoto(_ref) {\n  var navigation = _ref.navigation;\n  var _useWindowDimensions = useWindowDimensions(),\n    width = _useWindowDimensions.width;\n  var _useState = useState(false),\n    _useState2 = _slicedToArray(_useState, 2),\n    canAccessPhotoGallery = _useState2[0],\n    setCanAccessPhotoGallery = _useState2[1];\n  var _useState3 = useState([]),\n    _useState4 = _slicedToArray(_useState3, 2),\n    assetPhotos = _useState4[0],\n    setAssetPhotos = _useState4[1];\n  var _useState5 = useState(0),\n    _useState6 = _slicedToArray(_useState5, 2),\n    totalPhotos = _useState6[0],\n    setTotalPhotos = _useState6[1];\n  var _useState7 = useState(\"\"),\n    _useState8 = _slicedToArray(_useState7, 2),\n    chosenPhotoUri = _useState8[0],\n    setChosenPhotoUri = _useState8[1];\n  var handleGetPhotosFromGallery = function handleGetPhotosFromGallery() {\n    var pagedInfo;\n    return _regeneratorRuntime.async(function handleGetPhotosFromGallery$(_context) {\n      while (1) switch (_context.prev = _context.next) {\n        case 0:\n          if (!(canAccessPhotoGallery === false)) {\n            _context.next = 2;\n            break;\n          }\n          return _context.abrupt(\"return\");\n        case 2:\n          _context.next = 4;\n          return _regeneratorRuntime.awrap(MediaLibrary.getAssetsAsync());\n        case 4:\n          pagedInfo = _context.sent;\n          setAssetPhotos(pagedInfo.assets);\n          setTotalPhotos(pagedInfo.totalCount);\n        case 7:\n        case \"end\":\n          return _context.stop();\n      }\n    }, null, null, null, Promise);\n  };\n  var handleGetPhotoGalleryPermission = function handleGetPhotoGalleryPermission() {\n    var permissionResponse, _permissionResponse;\n    return _regeneratorRuntime.async(function handleGetPhotoGalleryPermission$(_context2) {\n      while (1) switch (_context2.prev = _context2.next) {\n        case 0:\n          _context2.next = 2;\n          return _regeneratorRuntime.awrap(MediaLibrary.getPermissionsAsync());\n        case 2:\n          permissionResponse = _context2.sent;\n          if (!(permissionResponse.status !== \"granted\")) {\n            _context2.next = 10;\n            break;\n          }\n          _context2.next = 6;\n          return _regeneratorRuntime.awrap(MediaLibrary.requestPermissionsAsync());\n        case 6:\n          _permissionResponse = _context2.sent;\n          if (_permissionResponse.status === \"granted\") {\n            setCanAccessPhotoGallery(true);\n          }\n          _context2.next = 11;\n          break;\n        case 10:\n          if (permissionResponse.status === \"granted\") {\n            setCanAccessPhotoGallery(true);\n          }\n        case 11:\n        case \"end\":\n          return _context2.stop();\n      }\n    }, null, null, null, Promise);\n  };\n  var handleChoosePhoto = function handleChoosePhoto(assetPhotoId) {\n    var assetInfo;\n    return _regeneratorRuntime.async(function handleChoosePhoto$(_context3) {\n      while (1) switch (_context3.prev = _context3.next) {\n        case 0:\n          _context3.next = 2;\n          return _regeneratorRuntime.awrap(MediaLibrary.getAssetInfoAsync(assetPhotoId));\n        case 2:\n          assetInfo = _context3.sent;\n          setChosenPhotoUri(assetInfo.localUri);\n        case 4:\n        case \"end\":\n          return _context3.stop();\n      }\n    }, null, null, null, Promise);\n  };\n  var handleNavigateToUploadPhotoScreen = function handleNavigateToUploadPhotoScreen(chosenPhotoUri) {\n    navigation.navigate(\"StackUploadPhotoNavigation\", {\n      photoUri: chosenPhotoUri\n    });\n  };\n  var renderItem = function renderItem(_ref2) {\n    var assetPhoto = _ref2.item;\n    return _jsxs(TouchableOpacity, {\n      onPress: function onPress() {\n        return handleChoosePhoto(assetPhoto.id);\n      },\n      children: [_jsx(AssetPhotoItem, {\n        width: width,\n        source: {\n          uri: assetPhoto.uri\n        }\n      }), assetPhoto.uri === chosenPhotoUri && _jsx(AssetPhotoItemIcon, {\n        name: \"checkbox\",\n        size: 16,\n        color: \"white\"\n      })]\n    });\n  };\n  useEffect(function () {\n    navigation.setOptions({\n      headerTitle: \"\\uC0AC\\uC9C4 (\" + totalPhotos + \")\",\n      headerRight: function headerRight() {\n        return _jsx(HeaderRightContainer, {\n          onPress: function onPress() {\n            return handleNavigateToUploadPhotoScreen(chosenPhotoUri);\n          },\n          children: _jsx(HeaderRightText, {\n            children: \"\\uB2E4\\uC74C\"\n          })\n        });\n      }\n    });\n  }, [totalPhotos, chosenPhotoUri]);\n  useEffect(function () {\n    handleGetPhotoGalleryPermission();\n  }, []);\n  useEffect(function () {\n    handleGetPhotosFromGallery();\n  }, [canAccessPhotoGallery]);\n  useEffect(function () {\n    var _assetPhotos$;\n    if ((_assetPhotos$ = assetPhotos[0]) != null && _assetPhotos$.uri) {\n      setChosenPhotoUri(assetPhotos[0].uri);\n    }\n  }, [assetPhotos]);\n  return _jsxs(Container, {\n    children: [_jsx(TopPhotoContainer, {\n      children: chosenPhotoUri !== \"\" && _jsx(AssetPhotoImage, {\n        width: width,\n        source: {\n          uri: chosenPhotoUri\n        }\n      })\n    }), _jsx(BottomPhotoContainer, {\n      children: _jsx(FlatListContainer, {\n        numColumns: 4,\n        data: assetPhotos,\n        renderItem: renderItem,\n        keyExtractor: function keyExtractor(assetPhoto) {\n          return assetPhoto.id;\n        }\n      })\n    })]\n  });\n};\nexport default SelectPhoto;","map":{"version":3,"names":["styled","Ionicons","MediaLibrary","useEffect","useState","TouchableOpacity","FlatList","useWindowDimensions","jsx","_jsx","jsxs","_jsxs","Container","View","_templateObject","_taggedTemplateLiteralLoose","props","theme","bgColor","TopPhotoContainer","_templateObject2","AssetPhotoImage","Image","_templateObject3","width","BottomPhotoContainer","_templateObject4","FlatListContainer","_templateObject5","AssetPhotoItem","_templateObject6","AssetPhotoItemIcon","_templateObject7","HeaderRightContainer","_templateObject8","HeaderRightText","Text","_templateObject9","activeColor","SelectPhoto","_ref","navigation","_useWindowDimensions","_useState","_useState2","_slicedToArray","canAccessPhotoGallery","setCanAccessPhotoGallery","_useState3","_useState4","assetPhotos","setAssetPhotos","_useState5","_useState6","totalPhotos","setTotalPhotos","_useState7","_useState8","chosenPhotoUri","setChosenPhotoUri","handleGetPhotosFromGallery","pagedInfo","_regeneratorRuntime","async","handleGetPhotosFromGallery$","_context","prev","next","abrupt","awrap","getAssetsAsync","sent","assets","totalCount","stop","Promise","handleGetPhotoGalleryPermission","permissionResponse","_permissionResponse","handleGetPhotoGalleryPermission$","_context2","getPermissionsAsync","status","requestPermissionsAsync","handleChoosePhoto","assetPhotoId","assetInfo","handleChoosePhoto$","_context3","getAssetInfoAsync","localUri","handleNavigateToUploadPhotoScreen","navigate","photoUri","renderItem","_ref2","assetPhoto","item","onPress","id","children","source","uri","name","size","color","setOptions","headerTitle","headerRight","_assetPhotos$","numColumns","data","keyExtractor"],"sources":["C:/Users/GGPC/Documents/kidsgram-web/screens/SelectPhoto.tsx"],"sourcesContent":["import styled from \"styled-components/native\";\r\nimport Ionicons from \"@expo/vector-icons/Ionicons\";\r\nimport * as MediaLibrary from \"expo-media-library\";\r\nimport { useEffect, useState } from \"react\";\r\nimport { RootStackParamList } from \"../shared/shared.types\";\r\nimport { TouchableOpacity } from \"react-native-gesture-handler\";\r\nimport { NativeStackScreenProps } from \"@react-navigation/native-stack\";\r\nimport { FlatList, ScaledSize, useWindowDimensions } from \"react-native\";\r\n\r\ntype PhotoNavigationProps = NativeStackScreenProps<RootStackParamList, \"StackPhotoNavigation\">;\r\n\r\nconst Container = styled.View`\r\n  flex: 1;\r\n  background-color: ${(props) => props.theme.bgColor};\r\n`;\r\n\r\nconst TopPhotoContainer = styled.View`\r\n  flex: 1;\r\n  background-color: ${(props) => props.theme.bgColor};\r\n`;\r\n\r\nconst AssetPhotoImage = styled.Image<{ width: number }>`\r\n  width: ${(props) => props.width}px;\r\n  height: 100%;\r\n`;\r\n\r\nconst BottomPhotoContainer = styled.View`\r\n  flex: 1;\r\n  background-color: ${(props) => props.theme.bgColor};\r\n`;\r\n\r\nconst FlatListContainer = styled(FlatList)`\r\n  width: 100%;\r\n`;\r\n\r\nconst AssetPhotoItem = styled.Image<{ width: number }>`\r\n  width: ${(props) => props.width / 4}px;\r\n  height: ${(props) => props.width / 4}px;\r\n`;\r\n\r\nconst AssetPhotoItemIcon = styled(Ionicons)`\r\n  position: absolute;\r\n  bottom: 3px;\r\n  right: 3px;\r\n`;\r\n\r\nconst HeaderRightContainer = styled.TouchableOpacity`\r\n  padding: 10px 12px;\r\n`;\r\n\r\nconst HeaderRightText = styled.Text`\r\n  font-size: 17px;\r\n  color: ${(props) => props.theme.activeColor};\r\n  font-weight: bold;\r\n`;\r\n\r\nconst SelectPhoto = ({ navigation }: PhotoNavigationProps) => {\r\n  const { width }: ScaledSize = useWindowDimensions();\r\n  const [canAccessPhotoGallery, setCanAccessPhotoGallery] = useState<boolean>(false);\r\n  const [assetPhotos, setAssetPhotos] = useState<MediaLibrary.Asset[]>([]);\r\n  const [totalPhotos, setTotalPhotos] = useState<number>(0);\r\n  const [chosenPhotoUri, setChosenPhotoUri] = useState<string | undefined>(\"\");\r\n\r\n  const handleGetPhotosFromGallery = async (): Promise<void> => {\r\n    if (canAccessPhotoGallery === false) {\r\n      return;\r\n    }\r\n    // const albums: MediaLibrary.Album[] = await MediaLibrary.getAlbumsAsync();\r\n    const pagedInfo: MediaLibrary.PagedInfo<MediaLibrary.Asset> = await MediaLibrary.getAssetsAsync();\r\n    setAssetPhotos(pagedInfo.assets);\r\n    setTotalPhotos(pagedInfo.totalCount);\r\n  };\r\n\r\n  const handleGetPhotoGalleryPermission = async (): Promise<void> => {\r\n    const permissionResponse: MediaLibrary.PermissionResponse = await MediaLibrary.getPermissionsAsync();\r\n\r\n    if (permissionResponse.status !== \"granted\") {\r\n      const permissionResponse: MediaLibrary.PermissionResponse = await MediaLibrary.requestPermissionsAsync();\r\n      if (permissionResponse.status === \"granted\") {\r\n        setCanAccessPhotoGallery(true);\r\n      }\r\n    } else if (permissionResponse.status === \"granted\") {\r\n      setCanAccessPhotoGallery(true);\r\n    }\r\n  };\r\n\r\n  const handleChoosePhoto = async (assetPhotoId: string): Promise<void> => {\r\n    const assetInfo: MediaLibrary.AssetInfo = await MediaLibrary.getAssetInfoAsync(assetPhotoId);\r\n    setChosenPhotoUri(assetInfo.localUri);\r\n  };\r\n\r\n  const handleNavigateToUploadPhotoScreen = (chosenPhotoUri: string | undefined): void => {\r\n    navigation.navigate(\"StackUploadPhotoNavigation\", { photoUri: chosenPhotoUri });\r\n  };\r\n\r\n  const renderItem = ({ item: assetPhoto }: any) => {\r\n    return (\r\n      <TouchableOpacity onPress={() => handleChoosePhoto(assetPhoto.id)}>\r\n        <AssetPhotoItem width={width} source={{ uri: assetPhoto.uri }} />\r\n        {assetPhoto.uri === chosenPhotoUri && <AssetPhotoItemIcon name=\"checkbox\" size={16} color=\"white\" />}\r\n      </TouchableOpacity>\r\n    );\r\n  };\r\n\r\n  useEffect(() => {\r\n    navigation.setOptions({\r\n      headerTitle: `사진 (${totalPhotos})`,\r\n      headerRight: () => {\r\n        return (\r\n          <HeaderRightContainer onPress={() => handleNavigateToUploadPhotoScreen(chosenPhotoUri)}>\r\n            <HeaderRightText>다음</HeaderRightText>\r\n          </HeaderRightContainer>\r\n        );\r\n      },\r\n    });\r\n  }, [totalPhotos, chosenPhotoUri]);\r\n\r\n  useEffect(() => {\r\n    handleGetPhotoGalleryPermission();\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    handleGetPhotosFromGallery();\r\n  }, [canAccessPhotoGallery]);\r\n\r\n  useEffect(() => {\r\n    if (assetPhotos[0]?.uri) {\r\n      setChosenPhotoUri(assetPhotos[0].uri);\r\n    }\r\n  }, [assetPhotos]);\r\n\r\n  return (\r\n    <Container>\r\n      <TopPhotoContainer>{chosenPhotoUri !== \"\" && <AssetPhotoImage width={width} source={{ uri: chosenPhotoUri }} />}</TopPhotoContainer>\r\n      <BottomPhotoContainer>\r\n        <FlatListContainer numColumns={4} data={assetPhotos} renderItem={renderItem} keyExtractor={(assetPhoto: any) => assetPhoto.id}></FlatListContainer>\r\n      </BottomPhotoContainer>\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default SelectPhoto;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}