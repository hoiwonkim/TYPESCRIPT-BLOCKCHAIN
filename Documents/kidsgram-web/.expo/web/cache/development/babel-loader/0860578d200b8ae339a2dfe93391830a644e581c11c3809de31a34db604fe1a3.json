{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport _taggedTemplateLiteralLoose from \"@babel/runtime/helpers/taggedTemplateLiteralLoose\";\nvar _templateObject, _templateObject2;\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport Loading from \"../components/Loading\";\nimport styled from \"styled-components/native\";\nimport UserItem from \"../components/UserItem\";\nimport FlatList from \"react-native-web/dist/exports/FlatList\";\nimport { useEffect, useState } from \"react\";\nimport { useSeePhotoLikesQuery } from \"../generated/graphql\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nvar Container = styled.View(_templateObject || (_templateObject = _taggedTemplateLiteralLoose([\"\\n  background-color: \", \";\\n  flex: 1;\\n  justify-content: center;\\n  align-items: center;\\n\"])), function (props) {\n  return props.theme.bgColor;\n});\nvar FlatListContainer = styled(FlatList)(_templateObject2 || (_templateObject2 = _taggedTemplateLiteralLoose([\"\\n  width: 100%;\\n\"])));\nvar Likes = function Likes(_ref) {\n  var navigation = _ref.navigation,\n    route = _ref.route;\n  var _useState = useState(false),\n    _useState2 = _slicedToArray(_useState, 2),\n    refreshing = _useState2[0],\n    setRefreshing = _useState2[1];\n  var _useSeePhotoLikesQuer = useSeePhotoLikesQuery({\n      variables: {\n        photoId: route.params.photoId\n      },\n      skip: !route.params.photoId\n    }),\n    seePhotoLikesData = _useSeePhotoLikesQuer.data,\n    seePhotoLikesLoading = _useSeePhotoLikesQuer.loading,\n    refetch = _useSeePhotoLikesQuer.refetch;\n  var onEndReached = function onEndReached() {\n    console.log(\"onEndReached\", onEndReached);\n  };\n  var onRefresh = function onRefresh() {\n    return _regeneratorRuntime.async(function onRefresh$(_context) {\n      while (1) switch (_context.prev = _context.next) {\n        case 0:\n          setRefreshing(true);\n          _context.next = 3;\n          return _regeneratorRuntime.awrap(refetch());\n        case 3:\n          setRefreshing(false);\n        case 4:\n        case \"end\":\n          return _context.stop();\n      }\n    }, null, null, null, Promise);\n  };\n  var renderItem = function renderItem(_ref2) {\n    var user = _ref2.item;\n    return _jsx(UserItem, _objectSpread({}, user));\n  };\n  useEffect(function () {\n    navigation.setOptions({\n      headerTitle: \"좋아요\"\n    });\n  }, []);\n  return _jsx(Container, {\n    children: seePhotoLikesLoading === true ? _jsx(Loading, {}) : _jsx(FlatListContainer, {\n      onEndReachedThreshold: 0,\n      onEndReached: onEndReached,\n      refreshing: refreshing,\n      onRefresh: onRefresh,\n      data: seePhotoLikesData == null ? void 0 : seePhotoLikesData.seePhotoLikes.users,\n      renderItem: renderItem,\n      keyExtractor: function keyExtractor(user) {\n        return String(user.id);\n      }\n    })\n  });\n};\nexport default Likes;","map":{"version":3,"names":["Loading","styled","UserItem","FlatList","useEffect","useState","useSeePhotoLikesQuery","jsx","_jsx","Container","View","_templateObject","_taggedTemplateLiteralLoose","props","theme","bgColor","FlatListContainer","_templateObject2","Likes","_ref","navigation","route","_useState","_useState2","_slicedToArray","refreshing","setRefreshing","_useSeePhotoLikesQuer","variables","photoId","params","skip","seePhotoLikesData","data","seePhotoLikesLoading","loading","refetch","onEndReached","console","log","onRefresh","_regeneratorRuntime","async","onRefresh$","_context","prev","next","awrap","stop","Promise","renderItem","_ref2","user","item","_objectSpread","setOptions","headerTitle","children","onEndReachedThreshold","seePhotoLikes","users","keyExtractor","String","id"],"sources":["C:/Users/GGPC/Documents/kidsgram-web/screens/Likes.tsx"],"sourcesContent":["import Loading from \"../components/Loading\";\r\nimport styled from \"styled-components/native\";\r\nimport UserItem from \"../components/UserItem\";\r\nimport { FlatList } from \"react-native\";\r\nimport { useEffect, useState } from \"react\";\r\nimport { RootStackParamList } from \"../shared/shared.types\";\r\nimport { useSeePhotoLikesQuery } from \"../generated/graphql\";\r\nimport { NativeStackScreenProps } from \"@react-navigation/native-stack\";\r\n\r\ntype LikesNavigationProps = NativeStackScreenProps<RootStackParamList, \"StackLikes\">;\r\n\r\nconst Container = styled.View`\r\n  background-color: ${(props) => props.theme.bgColor};\r\n  flex: 1;\r\n  justify-content: center;\r\n  align-items: center;\r\n`;\r\n\r\nconst FlatListContainer = styled(FlatList)`\r\n  width: 100%;\r\n`;\r\n\r\nconst Likes = ({ navigation, route }: LikesNavigationProps) => {\r\n  const [refreshing, setRefreshing] = useState<boolean>(false);\r\n  const { data: seePhotoLikesData, loading: seePhotoLikesLoading, refetch } = useSeePhotoLikesQuery({ variables: { photoId: route.params.photoId }, skip: !route.params.photoId });\r\n\r\n  const onEndReached = (): void => {\r\n    console.log(\"onEndReached\", onEndReached);\r\n  };\r\n\r\n  const onRefresh = async (): Promise<void> => {\r\n    setRefreshing(true);\r\n    await refetch();\r\n    setRefreshing(false);\r\n  };\r\n\r\n  const renderItem = ({ item: user }: any) => {\r\n    return <UserItem {...user} />;\r\n  };\r\n\r\n  useEffect(() => {\r\n    navigation.setOptions({ headerTitle: \"좋아요\" });\r\n  }, []);\r\n\r\n  return (\r\n    <Container>\r\n      {seePhotoLikesLoading === true ? (\r\n        <Loading />\r\n      ) : (\r\n        <FlatListContainer\r\n          onEndReachedThreshold={0}\r\n          onEndReached={onEndReached}\r\n          refreshing={refreshing}\r\n          onRefresh={onRefresh}\r\n          data={seePhotoLikesData?.seePhotoLikes.users}\r\n          renderItem={renderItem}\r\n          keyExtractor={(user: any) => String(user.id)}\r\n        ></FlatListContainer>\r\n      )}\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default Likes;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}